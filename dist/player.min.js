!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.GuacaPlayer=t(require("react")):e.GuacaPlayer=t(e.React)}(self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/cloudit/consoleplayer",n(n.s=11)}([function(t,n){t.exports=e},function(e,t){var n;(n=n||{}).ArrayBufferReader=function(e){var t=this;e.onblob=function(e){for(var n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);t.ondata&&t.ondata(r)},e.onend=function(){t.onend&&t.onend()},this.ondata=null,this.onend=null},(n=n||{}).ArrayBufferWriter=function(e){var t=this;function r(t){for(var n="",r=0;r<t.byteLength;r++)n+=String.fromCharCode(t[r]);e.sendBlob(window.btoa(n))}e.onack=function(e){t.onack&&t.onack(e)},this.blobLength=n.ArrayBufferWriter.DEFAULT_BLOB_LENGTH,this.sendData=function(e){var n=new Uint8Array(e);if(n.length<=t.blobLength)r(n);else for(var a=0;a<n.length;a+=t.blobLength)r(n.subarray(a,a+t.blobLength))},this.sendEnd=function(){e.sendEnd()},this.onack=null},n.ArrayBufferWriter.DEFAULT_BLOB_LENGTH=6048,(n=n||{}).AudioContextFactory={singleton:null,getAudioContext:function(){var e=window.AudioContext||window.webkitAudioContext;if(e)try{return n.AudioContextFactory.singleton||(n.AudioContextFactory.singleton=new e),n.AudioContextFactory.singleton}catch(e){}return null}},(n=n||{}).AudioPlayer=function(){this.sync=function(){}},n.AudioPlayer.isSupportedType=function(e){return n.RawAudioPlayer.isSupportedType(e)},n.AudioPlayer.getSupportedTypes=function(){return n.RawAudioPlayer.getSupportedTypes()},n.AudioPlayer.getInstance=function(e,t){return n.RawAudioPlayer.isSupportedType(t)?new n.RawAudioPlayer(e,t):null},n.RawAudioPlayer=function(e,t){var r=n.RawAudioFormat.parse(t),a=n.AudioContextFactory.getAudioContext(),i=a.currentTime,o=new n.ArrayBufferReader(e),A=1===r.bytesPerSample?window.Int8Array:window.Int16Array,s=1===r.bytesPerSample?128:32768,u=[],c=function(){var e=function(e){if(e.length<=1)return e[0];var t=0;e.forEach((function(e){t+=e.length}));var n=0,r=new A(t);return e.forEach((function(e){r.set(e,n),n+=e.length})),r}(u);return e?(u=function(e){for(var t=Number.MAX_VALUE,n=e.length,a=Math.floor(e.length/r.channels),i=Math.floor(.02*r.rate),o=Math.max(r.channels*i,r.channels*(a-i));o<e.length;o+=r.channels){for(var s=0,u=0;u<r.channels;u++)s+=Math.abs(e[o+u]);s<=t&&(n=o+r.channels,t=s)}return n===e.length?[e]:[new A(e.buffer.slice(0,n*r.bytesPerSample)),new A(e.buffer.slice(n*r.bytesPerSample))]}(e),e=u.shift()):null};o.ondata=function(e){!function(e){u.push(new A(e))}(new A(e));var t=c();if(t){var n=a.currentTime;i<n&&(i=n);var o=a.createBufferSource();o.connect(a.destination),o.start||(o.start=o.noteOn),o.buffer=function(e){var t=e.length/r.channels,n=a.currentTime;i<n&&(i=n);for(var o=a.createBuffer(r.channels,t,r.rate),A=0;A<r.channels;A++)for(var u=o.getChannelData(A),c=A,l=0;l<t;l++)u[l]=e[c]/s,c+=r.channels;return o}(t),o.start(i),i+=t.length/r.channels/r.rate}},this.sync=function(){var e=a.currentTime;i=Math.min(i,e+.3)}},n.RawAudioPlayer.prototype=new n.AudioPlayer,n.RawAudioPlayer.isSupportedType=function(e){return!!n.AudioContextFactory.getAudioContext()&&null!==n.RawAudioFormat.parse(e)},n.RawAudioPlayer.getSupportedTypes=function(){return n.AudioContextFactory.getAudioContext()?["audio/L8","audio/L16"]:[]},(n=n||{}).AudioRecorder=function(){this.onclose=null,this.onerror=null},n.AudioRecorder.isSupportedType=function(e){return n.RawAudioRecorder.isSupportedType(e)},n.AudioRecorder.getSupportedTypes=function(){return n.RawAudioRecorder.getSupportedTypes()},n.AudioRecorder.getInstance=function(e,t){return n.RawAudioRecorder.isSupportedType(t)?new n.RawAudioRecorder(e,t):null},n.RawAudioRecorder=function(e,t){var r=this,a=n.RawAudioFormat.parse(t),i=n.AudioContextFactory.getAudioContext();navigator.mediaDevices||(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia||(navigator.mediaDevices.getUserMedia=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia).bind(navigator));var o=new n.ArrayBufferWriter(e),A=1===a.bytesPerSample?window.Int8Array:window.Int16Array,s=1===a.bytesPerSample?128:32768,u=0,c=0,l=null,h=null,d=null,g=function(e){if(0===e)return 1;var t=Math.PI*e;return Math.sin(t)/t},f=function(e,t){for(var n,r,a=(e.length-1)*t,i=Math.floor(a)-3+1,o=Math.floor(a)+3,A=0,s=i;s<=o;s++)A+=(e[s]||0)*(-(r=3)<(n=a-s)&&n<r?g(n)*g(n/r):0);return A},p=function(){navigator.mediaDevices.getUserMedia({audio:!0},(function(e){(d=i.createScriptProcessor(2048,a.channels,a.channels)).connect(i.destination),d.onaudioprocess=function(e){o.sendData(function(e){var t=e.length;u+=t;var n=Math.round(u*a.rate/e.sampleRate)-c;c+=n;for(var r=new A(n*a.channels),i=0;i<a.channels;i++)for(var o=e.getChannelData(i),l=i,h=0;h<n;h++)r[l]=f(o,h/(n-1))*s,l+=a.channels;return r}(e.inputBuffer).buffer)},(h=i.createMediaStreamSource(e)).connect(d),l=e}),(function(){o.sendEnd(),r.onerror&&r.onerror()}))};o.onack=function(e){e.code!==n.Status.Code.SUCCESS||l?(!function(){if(h&&h.disconnect(),d&&d.disconnect(),l)for(var e=l.getTracks(),t=0;t<e.length;t++)e[t].stop();d=null,h=null,l=null,o.sendEnd()}(),o.onack=null,e.code===n.Status.Code.RESOURCE_CLOSED?r.onclose&&r.onclose():r.onerror&&r.onerror()):p()}},n.RawAudioRecorder.prototype=new n.AudioRecorder,n.RawAudioRecorder.isSupportedType=function(e){return!!n.AudioContextFactory.getAudioContext()&&null!==n.RawAudioFormat.parse(e)},n.RawAudioRecorder.getSupportedTypes=function(){return n.AudioContextFactory.getAudioContext()?["audio/L8","audio/L16"]:[]},(n=n||{}).BlobReader=function(e,t){var n,r=this,a=0;n=window.BlobBuilder?new BlobBuilder:window.WebKitBlobBuilder?new WebKitBlobBuilder:window.MozBlobBuilder?new MozBlobBuilder:new function(){var e=[];this.append=function(n){e.push(new Blob([n],{type:t}))},this.getBlob=function(){return new Blob(e,{type:t})}},e.onblob=function(t){for(var i=window.atob(t),o=new ArrayBuffer(i.length),A=new Uint8Array(o),s=0;s<i.length;s++)A[s]=i.charCodeAt(s);n.append(o),a+=o.byteLength,r.onprogress&&r.onprogress(o.byteLength),e.sendAck("OK",0)},e.onend=function(){r.onend&&r.onend()},this.getLength=function(){return a},this.getBlob=function(){return n.getBlob()},this.onprogress=null,this.onend=null},(n=n||{}).BlobWriter=function(e){var t=this,r=new n.ArrayBufferWriter(e);r.onack=function(e){t.onack&&t.onack(e)};this.sendBlob=function(e){var n=0,a=new FileReader,i=function(){if(n>=e.size)t.oncomplete&&t.oncomplete(e);else{var i=function(e,t,n){var r=(e.slice||e.webkitSlice||e.mozSlice).bind(e),a=n-t;if(a!==n){var i=r(t,a);if(i.size===a)return i}return r(t,n)}(e,n,n+r.blobLength);n+=r.blobLength,a.readAsArrayBuffer(i)}};a.onload=function(){r.sendData(a.result),r.onack=function(a){t.onack&&t.onack(a),a.isError()||(t.onprogress&&t.onprogress(e,n-r.blobLength),i())}},a.onerror=function(){t.onerror&&t.onerror(e,n,a.error)},i()},this.sendEnd=function(){r.sendEnd()},this.onack=null,this.onerror=null,this.onprogress=null,this.oncomplete=null},(n=n||{}).Client=function(e){var t=this,r=2,a=3,i=0,o=0,A=null,s={0:"butt",1:"round",2:"square"},u={0:"bevel",1:"miter",2:"round"},c=new n.Display,l={},h={},d={},g=[],f=[],p=[],y=new n.IntegerPool,M=[];function m(e){e!=i&&(i=e,t.onstatechange&&t.onstatechange(i))}function w(){return i==a||i==r}this.exportState=function(e){var t={currentState:i,currentTimestamp:o,layers:{}},n={};for(var r in l)n[r]=l[r];c.flush((function(){for(var r in n){var a=parseInt(r),i=n[r],o=i.toCanvas(),A={width:i.width,height:i.height};i.width&&i.height&&(A.url=o.toDataURL("image/png")),a>0&&(A.x=i.x,A.y=i.y,A.z=i.z,A.alpha=i.alpha,A.matrix=i.matrix,A.parent=v(i.parent)),t.layers[r]=A}e(t)}))},this.importState=function(e,t){var r,a;for(r in i=e.currentState,o=e.currentTimestamp,l)(a=parseInt(r))>0&&c.dispose(l[r]);for(r in l={},e.layers){a=parseInt(r);var A=e.layers[r],s=b(a);if(c.resize(s,A.width,A.height),A.url&&(c.setChannelMask(s,n.Layer.SRC),c.draw(s,0,0,A.url)),a>0&&A.parent>=0){var u=b(A.parent);c.move(s,u,A.x,A.y,A.z),c.shade(s,A.alpha);var h=A.matrix;c.distort(s,h[0],h[1],h[2],h[3],h[4],h[5])}}c.flush(t)},this.getDisplay=function(){return c},this.sendSize=function(t,n){w()&&e.sendMessage("size",t,n)},this.sendKeyEvent=function(t,n){w()&&e.sendMessage("key",n,t)},this.sendMouseState=function(t){if(w()){c.moveCursor(Math.floor(t.x),Math.floor(t.y));var n=0;t.left&&(n|=1),t.middle&&(n|=2),t.right&&(n|=4),t.up&&(n|=8),t.down&&(n|=16),e.sendMessage("mouse",Math.floor(t.x),Math.floor(t.y),n)}},this.createOutputStream=function(){var e=y.next();return M[e]=new n.OutputStream(t,e)},this.createAudioStream=function(n){var r=t.createOutputStream();return e.sendMessage("audio",r.index,n),r},this.createFileStream=function(n,r){var a=t.createOutputStream();return e.sendMessage("file",a.index,n,r),a},this.createPipeStream=function(n,r){var a=t.createOutputStream();return e.sendMessage("pipe",a.index,n,r),a},this.createClipboardStream=function(n){var r=t.createOutputStream();return e.sendMessage("clipboard",r.index,n),r},this.createArgumentValueStream=function(n,r){var a=t.createOutputStream();return e.sendMessage("argv",a.index,n,r),a},this.createObjectOutputStream=function(n,r,a){var i=t.createOutputStream();return e.sendMessage("put",n,i.index,r,a),i},this.requestObjectInputStream=function(t,n){w()&&e.sendMessage("get",t,n)},this.sendAck=function(t,n,r){w()&&e.sendMessage("ack",t,n,r)},this.sendBlob=function(t,n){w()&&e.sendMessage("blob",t,n)},this.endStream=function(t){w()&&(e.sendMessage("end",t),M[t]&&(y.free(t),delete M[t]))},this.onstatechange=null,this.onname=null,this.onerror=null,this.onaudio=null,this.onvideo=null,this.onargv=null,this.onclipboard=null,this.onfile=null,this.onfilesystem=null,this.onpipe=null,this.onsync=null;var b=function(e){var t=l[e];return t||(t=0===e?c.getDefaultLayer():e>0?c.createLayer():c.createBuffer(),l[e]=t),t},v=function(e){if(!e)return null;for(var t in l)if(e===l[t])return parseInt(t);return null};var I={"miter-limit":function(e,t){c.setMiterLimit(e,parseFloat(t))}},N={ack:function(e){var t=parseInt(e[0]),r=e[1],a=parseInt(e[2]),i=M[t];i&&(i.onack&&i.onack(new n.Status(a,r)),a>=256&&M[t]===i&&(y.free(t),delete M[t]))},arc:function(e){var t=b(parseInt(e[0])),n=parseInt(e[1]),r=parseInt(e[2]),a=parseInt(e[3]),i=parseFloat(e[4]),o=parseFloat(e[5]),A=parseInt(e[6]);c.arc(t,n,r,a,i,o,0!=A)},argv:function(e){var r=parseInt(e[0]),a=e[1],i=e[2];if(t.onargv){var o=f[r]=new n.InputStream(t,r);t.onargv(o,a,i)}else t.sendAck(r,"Receiving argument values unsupported",256)},audio:function(e){var r=parseInt(e[0]),a=e[1],i=f[r]=new n.InputStream(t,r),o=null;t.onaudio&&(o=t.onaudio(i,a)),o||(o=n.AudioPlayer.getInstance(i,a)),o?(h[r]=o,t.sendAck(r,"OK",0)):t.sendAck(r,"BAD TYPE",783)},blob:function(e){var t=parseInt(e[0]),n=e[1],r=f[t];r&&r.onblob&&r.onblob(n)},body:function(e){var r=parseInt(e[0]),a=p[r],i=parseInt(e[1]),o=e[2],A=e[3];if(a&&a.onbody){var s=f[i]=new n.InputStream(t,i);a.onbody(s,o,A)}else t.sendAck(i,"Receipt of body unsupported",256)},cfill:function(e){var t=parseInt(e[0]),n=b(parseInt(e[1])),r=parseInt(e[2]),a=parseInt(e[3]),i=parseInt(e[4]),o=parseInt(e[5]);c.setChannelMask(n,t),c.fillColor(n,r,a,i,o)},clip:function(e){var t=b(parseInt(e[0]));c.clip(t)},clipboard:function(e){var r=parseInt(e[0]),a=e[1];if(t.onclipboard){var i=f[r]=new n.InputStream(t,r);t.onclipboard(i,a)}else t.sendAck(r,"Clipboard unsupported",256)},close:function(e){var t=b(parseInt(e[0]));c.close(t)},copy:function(e){var t=b(parseInt(e[0])),n=parseInt(e[1]),r=parseInt(e[2]),a=parseInt(e[3]),i=parseInt(e[4]),o=parseInt(e[5]),A=b(parseInt(e[6])),s=parseInt(e[7]),u=parseInt(e[8]);c.setChannelMask(A,o),c.copy(t,n,r,a,i,A,s,u)},cstroke:function(e){var t=parseInt(e[0]),n=b(parseInt(e[1])),r=s[parseInt(e[2])],a=u[parseInt(e[3])],i=parseInt(e[4]),o=parseInt(e[5]),A=parseInt(e[6]),l=parseInt(e[7]),h=parseInt(e[8]);c.setChannelMask(n,t),c.strokeColor(n,r,a,i,o,A,l,h)},cursor:function(e){var t=parseInt(e[0]),n=parseInt(e[1]),r=b(parseInt(e[2])),a=parseInt(e[3]),i=parseInt(e[4]),o=parseInt(e[5]),A=parseInt(e[6]);c.setCursor(t,n,r,a,i,o,A)},curve:function(e){var t=b(parseInt(e[0])),n=parseInt(e[1]),r=parseInt(e[2]),a=parseInt(e[3]),i=parseInt(e[4]),o=parseInt(e[5]),A=parseInt(e[6]);c.curveTo(t,n,r,a,i,o,A)},disconnect:function(e){t.disconnect()},dispose:function(e){var t=parseInt(e[0]);if(t>0){var n=b(t);c.dispose(n),delete l[t]}else t<0&&delete l[t]},distort:function(e){var t=parseInt(e[0]),n=parseFloat(e[1]),r=parseFloat(e[2]),a=parseFloat(e[3]),i=parseFloat(e[4]),o=parseFloat(e[5]),A=parseFloat(e[6]);if(t>=0){var s=b(t);c.distort(s,n,r,a,i,o,A)}},error:function(e){var r=e[0],a=parseInt(e[1]);t.onerror&&t.onerror(new n.Status(a,r)),t.disconnect()},end:function(e){var t=parseInt(e[0]),n=f[t];n&&(n.onend&&n.onend(),delete f[t])},file:function(e){var r=parseInt(e[0]),a=e[1],i=e[2];if(t.onfile){var o=f[r]=new n.InputStream(t,r);t.onfile(o,a,i)}else t.sendAck(r,"File transfer unsupported",256)},filesystem:function(e){var r=parseInt(e[0]),a=e[1];if(t.onfilesystem){var i=p[r]=new n.Object(t,r);t.onfilesystem(i,a)}},identity:function(e){var t=b(parseInt(e[0]));c.setTransform(t,1,0,0,1,0,0)},img:function(e){var r=parseInt(e[0]),a=parseInt(e[1]),i=b(parseInt(e[2])),o=e[3],A=parseInt(e[4]),s=parseInt(e[5]),u=f[r]=new n.InputStream(t,r),l=new n.DataURIReader(u,o);l.onend=function(){c.setChannelMask(i,a),c.draw(i,A,s,l.getURI())}},jpeg:function(e){var t=parseInt(e[0]),n=b(parseInt(e[1])),r=parseInt(e[2]),a=parseInt(e[3]),i=e[4];c.setChannelMask(n,t),c.draw(n,r,a,"data:image/jpeg;base64,"+i)},lfill:function(e){var t=parseInt(e[0]),n=b(parseInt(e[1])),r=b(parseInt(e[2]));c.setChannelMask(n,t),c.fillLayer(n,r)},line:function(e){var t=b(parseInt(e[0])),n=parseInt(e[1]),r=parseInt(e[2]);c.lineTo(t,n,r)},lstroke:function(e){var t=parseInt(e[0]),n=b(parseInt(e[1])),r=b(parseInt(e[2]));c.setChannelMask(n,t),c.strokeLayer(n,r)},mouse:function(e){var t=parseInt(e[0]),n=parseInt(e[1]);c.showCursor(!0),c.moveCursor(t,n)},move:function(e){var t=parseInt(e[0]),n=parseInt(e[1]),r=parseInt(e[2]),a=parseInt(e[3]),i=parseInt(e[4]);if(t>0&&n>=0){var o=b(t),A=b(n);c.move(o,A,r,a,i)}},name:function(e){t.onname&&t.onname(e[0])},nest:function(t){(function(t){var r=g[t];return null==r&&((r=g[t]=new n.Parser).oninstruction=e.oninstruction),r})(parseInt(t[0])).receive(t[1])},pipe:function(e){var r=parseInt(e[0]),a=e[1],i=e[2];if(t.onpipe){var o=f[r]=new n.InputStream(t,r);t.onpipe(o,a,i)}else t.sendAck(r,"Named pipes unsupported",256)},png:function(e){var t=parseInt(e[0]),n=b(parseInt(e[1])),r=parseInt(e[2]),a=parseInt(e[3]),i=e[4];c.setChannelMask(n,t),c.draw(n,r,a,"data:image/png;base64,"+i)},pop:function(e){var t=b(parseInt(e[0]));c.pop(t)},push:function(e){var t=b(parseInt(e[0]));c.push(t)},rect:function(e){var t=b(parseInt(e[0])),n=parseInt(e[1]),r=parseInt(e[2]),a=parseInt(e[3]),i=parseInt(e[4]);c.rect(t,n,r,a,i)},reset:function(e){var t=b(parseInt(e[0]));c.reset(t)},set:function(e){var t=b(parseInt(e[0])),n=e[1],r=e[2],a=I[n];a&&a(t,r)},shade:function(e){var t=parseInt(e[0]),n=parseInt(e[1]);if(t>=0){var r=b(t);c.shade(r,n)}},size:function(e){var t=parseInt(e[0]),n=b(t),r=parseInt(e[1]),a=parseInt(e[2]);c.resize(n,r,a)},start:function(e){var t=b(parseInt(e[0])),n=parseInt(e[1]),r=parseInt(e[2]);c.moveTo(t,n,r)},sync:function(n){var A=parseInt(n[0]);c.flush((function(){for(var t in h){var n=h[t];n&&n.sync()}A!==o&&(e.sendMessage("sync",A),o=A)})),i===r&&m(a),t.onsync&&t.onsync(A)},transfer:function(e){var t=b(parseInt(e[0])),r=parseInt(e[1]),a=parseInt(e[2]),i=parseInt(e[3]),o=parseInt(e[4]),A=parseInt(e[5]),s=b(parseInt(e[6])),u=parseInt(e[7]),l=parseInt(e[8]);3===A?c.put(t,r,a,i,o,s,u,l):5!==A&&c.transfer(t,r,a,i,o,s,u,l,n.Client.DefaultTransferFunction[A])},transform:function(e){var t=b(parseInt(e[0])),n=parseFloat(e[1]),r=parseFloat(e[2]),a=parseFloat(e[3]),i=parseFloat(e[4]),o=parseFloat(e[5]),A=parseFloat(e[6]);c.transform(t,n,r,a,i,o,A)},undefine:function(e){var t=parseInt(e[0]),n=p[t];n&&n.onundefine&&n.onundefine()},video:function(e){var r=parseInt(e[0]),a=b(parseInt(e[1])),i=e[2],o=f[r]=new n.InputStream(t,r),A=null;t.onvideo&&(A=t.onvideo(o,a,i)),A||(A=n.VideoPlayer.getInstance(o,a,i)),A?(d[r]=A,t.sendAck(r,"OK",0)):t.sendAck(r,"BAD TYPE",783)}};e.oninstruction=function(e,t){var n=N[e];n&&n(t)},this.disconnect=function(){5!=i&&4!=i&&(m(4),A&&window.clearInterval(A),e.sendMessage("disconnect"),e.disconnect(),m(5))},this.connect=function(t){m(1);try{e.connect(t)}catch(e){throw m(0),e}A=window.setInterval((function(){e.sendMessage("nop")}),5e3),m(r)}},n.Client.DefaultTransferFunction={0:function(e,t){t.red=t.green=t.blue=0},15:function(e,t){t.red=t.green=t.blue=255},3:function(e,t){t.red=e.red,t.green=e.green,t.blue=e.blue,t.alpha=e.alpha},5:function(e,t){},12:function(e,t){t.red=255&~e.red,t.green=255&~e.green,t.blue=255&~e.blue,t.alpha=e.alpha},10:function(e,t){t.red=255&~t.red,t.green=255&~t.green,t.blue=255&~t.blue},1:function(e,t){t.red=e.red&t.red,t.green=e.green&t.green,t.blue=e.blue&t.blue},14:function(e,t){t.red=255&~(e.red&t.red),t.green=255&~(e.green&t.green),t.blue=255&~(e.blue&t.blue)},7:function(e,t){t.red=e.red|t.red,t.green=e.green|t.green,t.blue=e.blue|t.blue},8:function(e,t){t.red=255&~(e.red|t.red),t.green=255&~(e.green|t.green),t.blue=255&~(e.blue|t.blue)},6:function(e,t){t.red=e.red^t.red,t.green=e.green^t.green,t.blue=e.blue^t.blue},9:function(e,t){t.red=255&~(e.red^t.red),t.green=255&~(e.green^t.green),t.blue=255&~(e.blue^t.blue)},4:function(e,t){t.red=~e.red&t.red&255,t.green=~e.green&t.green&255,t.blue=~e.blue&t.blue&255},13:function(e,t){t.red=255&(~e.red|t.red),t.green=255&(~e.green|t.green),t.blue=255&(~e.blue|t.blue)},2:function(e,t){t.red=e.red&~t.red&255,t.green=e.green&~t.green&255,t.blue=e.blue&~t.blue&255},11:function(e,t){t.red=255&(e.red|~t.red),t.green=255&(e.green|~t.green),t.blue=255&(e.blue|~t.blue)}},(n=n||{}).DataURIReader=function(e,t){var n=this,r="data:"+t+";base64,";e.onblob=function(e){r+=e},e.onend=function(){n.onend&&n.onend()},this.getURI=function(){return r},this.onend=null},(n=n||{}).Display=function(){var e=this,t=0,r=0,a=1,i=document.createElement("div");i.style.position="relative",i.style.width=t+"px",i.style.height=r+"px",i.style.transformOrigin=i.style.webkitTransformOrigin=i.style.MozTransformOrigin=i.style.OTransformOrigin=i.style.msTransformOrigin="0 0";var o=new n.Display.VisibleLayer(t,r),A=new n.Display.VisibleLayer(0,0);A.setChannelMask(n.Layer.SRC),i.appendChild(o.getElement()),i.appendChild(A.getElement());var s=document.createElement("div");s.style.position="relative",s.style.width=t*a+"px",s.style.height=r*a+"px",s.appendChild(i),this.cursorHotspotX=0,this.cursorHotspotY=0,this.cursorX=0,this.cursorY=0,this.onresize=null,this.oncursor=null;var u=[],c=[];function l(){for(var e=0;e<c.length;){var t=c[e];if(!t.isReady())break;t.flush(),e++}c.splice(0,e)}function h(e,t){this.isReady=function(){for(var e=0;e<t.length;e++)if(t[e].blocked)return!1;return!0},this.flush=function(){for(var n=0;n<t.length;n++)t[n].execute();e&&e()}}function d(e,t){var n=this;this.blocked=t,this.unblock=function(){n.blocked&&(n.blocked=!1,l())},this.execute=function(){e&&e()}}function g(e,t){var n=new d(e,t);return u.push(n),n}this.getElement=function(){return s},this.getWidth=function(){return t},this.getHeight=function(){return r},this.getDefaultLayer=function(){return o},this.getCursorLayer=function(){return A},this.createLayer=function(){var e=new n.Display.VisibleLayer(t,r);return e.move(o,0,0,0),e},this.createBuffer=function(){var e=new n.Layer(0,0);return e.autosize=1,e},this.flush=function(e){c.push(new h(e,u)),u=[],l()},this.setCursor=function(t,n,r,a,i,o,s){g((function(){e.cursorHotspotX=t,e.cursorHotspotY=n,A.resize(o,s),A.copy(r,a,i,o,s,0,0),e.moveCursor(e.cursorX,e.cursorY),e.oncursor&&e.oncursor(A.toCanvas(),t,n)}))},this.showCursor=function(e){var t=A.getElement(),n=t.parentNode;!1===e?n&&n.removeChild(t):n!==i&&i.appendChild(t)},this.moveCursor=function(t,n){A.translate(t-e.cursorHotspotX,n-e.cursorHotspotY),e.cursorX=t,e.cursorY=n},this.resize=function(n,A,u){g((function(){n.resize(A,u),n===o&&(t=A,r=u,i.style.width=t+"px",i.style.height=r+"px",s.style.width=t*a+"px",s.style.height=r*a+"px",e.onresize&&e.onresize(A,u))}))},this.drawImage=function(e,t,n,r){g((function(){e.drawImage(t,n,r)}))},this.drawBlob=function(e,t,n,r){var a=URL.createObjectURL(r),i=g((function(){o.width&&o.height&&e.drawImage(t,n,o),URL.revokeObjectURL(a)}),!0),o=new Image;o.onload=i.unblock,o.onerror=i.unblock,o.src=a},this.draw=function(e,t,n,r){var a=g((function(){i.width&&i.height&&e.drawImage(t,n,i)}),!0),i=new Image;i.onload=a.unblock,i.onerror=a.unblock,i.src=r},this.play=function(e,t,n,r){var a=document.createElement("video");a.type=t,a.src=r,a.addEventListener("play",(function(){!function t(){e.drawImage(0,0,a),a.ended||window.setTimeout(t,20)}()}),!1),g(a.play)},this.transfer=function(e,t,n,r,a,i,o,A,s){g((function(){i.transfer(e,t,n,r,a,o,A,s)}))},this.put=function(e,t,n,r,a,i,o,A){g((function(){i.put(e,t,n,r,a,o,A)}))},this.copy=function(e,t,n,r,a,i,o,A){g((function(){i.copy(e,t,n,r,a,o,A)}))},this.moveTo=function(e,t,n){g((function(){e.moveTo(t,n)}))},this.lineTo=function(e,t,n){g((function(){e.lineTo(t,n)}))},this.arc=function(e,t,n,r,a,i,o){g((function(){e.arc(t,n,r,a,i,o)}))},this.curveTo=function(e,t,n,r,a,i,o){g((function(){e.curveTo(t,n,r,a,i,o)}))},this.close=function(e){g((function(){e.close()}))},this.rect=function(e,t,n,r,a){g((function(){e.rect(t,n,r,a)}))},this.clip=function(e){g((function(){e.clip()}))},this.strokeColor=function(e,t,n,r,a,i,o,A){g((function(){e.strokeColor(t,n,r,a,i,o,A)}))},this.fillColor=function(e,t,n,r,a){g((function(){e.fillColor(t,n,r,a)}))},this.strokeLayer=function(e,t,n,r,a){g((function(){e.strokeLayer(t,n,r,a)}))},this.fillLayer=function(e,t){g((function(){e.fillLayer(t)}))},this.push=function(e){g((function(){e.push()}))},this.pop=function(e){g((function(){e.pop()}))},this.reset=function(e){g((function(){e.reset()}))},this.setTransform=function(e,t,n,r,a,i,o){g((function(){e.setTransform(t,n,r,a,i,o)}))},this.transform=function(e,t,n,r,a,i,o){g((function(){e.transform(t,n,r,a,i,o)}))},this.setChannelMask=function(e,t){g((function(){e.setChannelMask(t)}))},this.setMiterLimit=function(e,t){g((function(){e.setMiterLimit(t)}))},this.dispose=function(e){g((function(){e.dispose()}))},this.distort=function(e,t,n,r,a,i,o){g((function(){e.distort(t,n,r,a,i,o)}))},this.move=function(e,t,n,r,a){g((function(){e.move(t,n,r,a)}))},this.shade=function(e,t){g((function(){e.shade(t)}))},this.scale=function(e){i.style.transform=i.style.WebkitTransform=i.style.MozTransform=i.style.OTransform=i.style.msTransform="scale("+e+","+e+")",a=e,s.style.width=t*a+"px",s.style.height=r*a+"px"},this.getScale=function(){return a},this.flatten=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height;var t=e.getContext("2d");return function e(n,r,a){if(n.width>0&&n.height>0){var i=t.globalAlpha;t.globalAlpha*=n.alpha/255,t.drawImage(n.getCanvas(),r,a);for(var o=function(e){var t=[];for(var n in e.children)t.push(e.children[n]);return t.sort((function(e,t){var n=e.z-t.z;if(0!==n)return n;var r=e.getElement(),a=t.getElement().compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_PRECEDING?-1:a&Node.DOCUMENT_POSITION_FOLLOWING?1:0})),t}(n),A=0;A<o.length;A++){var s=o[A];e(s,r+s.x,a+s.y)}t.globalAlpha=i}}(o,0,0),e}},n.Display.VisibleLayer=function(e,t){n.Layer.apply(this,[e,t]);var r=this;this.__unique_id=n.Display.VisibleLayer.__next_id++,this.alpha=255,this.x=0,this.y=0,this.z=0,this.matrix=[1,0,0,1,0,0],this.parent=null,this.children={};var a=r.getCanvas();a.style.position="absolute",a.style.left="0px",a.style.top="0px";var i=document.createElement("div");i.appendChild(a),i.style.width=e+"px",i.style.height=t+"px",i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.overflow="hidden";var o=this.resize;this.resize=function(e,t){i.style.width=e+"px",i.style.height=t+"px",o(e,t)},this.getElement=function(){return i};var A="translate(0px, 0px)",s="matrix(1, 0, 0, 1, 0, 0)";this.translate=function(e,t){r.x=e,r.y=t,A="translate("+e+"px,"+t+"px)",i.style.transform=i.style.WebkitTransform=i.style.MozTransform=i.style.OTransform=i.style.msTransform=A+" "+s},this.move=function(e,t,n,a){r.parent!==e&&(r.parent&&delete r.parent.children[r.__unique_id],r.parent=e,e.children[r.__unique_id]=r,e.getElement().appendChild(i));r.translate(t,n),r.z=a,i.style.zIndex=a},this.shade=function(e){r.alpha=e,i.style.opacity=e/255},this.dispose=function(){r.parent&&(delete r.parent.children[r.__unique_id],r.parent=null),i.parentNode&&i.parentNode.removeChild(i)},this.distort=function(e,t,n,a,o,u){r.matrix=[e,t,n,a,o,u],s="matrix("+e+","+t+","+n+","+a+","+o+","+u+")",i.style.transform=i.style.WebkitTransform=i.style.MozTransform=i.style.OTransform=i.style.msTransform=A+" "+s}},n.Display.VisibleLayer.__next_id=0,(n=n||{}).InputSink=function(){var e=this,t=document.createElement("textarea");t.style.position="fixed",t.style.outline="none",t.style.border="none",t.style.margin="0",t.style.padding="0",t.style.height="0",t.style.width="0",t.style.left="0",t.style.bottom="0",t.style.resize="none",t.style.background="transparent",t.style.color="transparent",t.addEventListener("keypress",(function(e){t.value=""}),!1),t.addEventListener("compositionend",(function(e){e.data&&(t.value="")}),!1),t.addEventListener("input",(function(e){e.data&&!e.isComposing&&(t.value="")}),!1),t.addEventListener("focus",(function(){window.setTimeout((function(){t.click(),t.select()}),0)}),!0),this.focus=function(){window.setTimeout((function(){t.focus()}),0)},this.getElement=function(){return t},document.addEventListener("keydown",(function(t){var n=document.activeElement;if(n&&n!==document.body){var r=n.getBoundingClientRect();if(r.left+r.width>0&&r.top+r.height>0)return}e.focus()}),!0)},(n=n||{}).InputStream=function(e,t){var n=this;this.index=t,this.onblob=null,this.onend=null,this.sendAck=function(t,r){e.sendAck(n.index,t,r)}},(n=n||{}).IntegerPool=function(){var e=this,t=[];this.next_int=0,this.next=function(){return t.length>0?t.shift():e.next_int++},this.free=function(e){t.push(e)}},(n=n||{}).JSONReader=function(e){var t=this,r=new n.StringReader(e),a="";this.getLength=function(){return a.length},this.getJSON=function(){return JSON.parse(a)},r.ontext=function(e){a+=e,t.onprogress&&t.onprogress(e.length)},r.onend=function(){t.onend&&t.onend()},this.onprogress=null,this.onend=null},(n=n||{}).Keyboard=function(e){var t=this,r="_GUAC_KEYBOARD_HANDLED_BY_"+n.Keyboard._nextID++;this.onkeydown=null,this.onkeyup=null;var a={keyupUnreliable:!1,altIsTypableOnly:!1,capsLockKeyupUnreliable:!1};navigator&&navigator.platform&&(navigator.platform.match(/ipad|iphone|ipod/i)?a.keyupUnreliable=!0:navigator.platform.match(/^mac/i)&&(a.altIsTypableOnly=!0,a.capsLockKeyupUnreliable=!0));var i=function(){var e=this;this.timestamp=(new Date).getTime(),this.defaultPrevented=!1,this.keysym=null,this.reliable=!1,this.getAge=function(){return(new Date).getTime()-e.timestamp}},o=function(e,n,r,o){i.apply(this),this.keyCode=e,this.keyIdentifier=n,this.key=r,this.location=o,this.keysym=w(r,o)||v(e,o),this.keyupReliable=!a.keyupUnreliable,this.keysym&&!m(this.keysym)&&(this.reliable=!0),!this.keysym&&I(e,n)&&(this.keysym=w(n,o,t.modifiers.shift)),t.modifiers.meta&&65511!==this.keysym&&65512!==this.keysym?this.keyupReliable=!1:65509===this.keysym&&a.capsLockKeyupUnreliable&&(this.keyupReliable=!1);var A=!t.modifiers.ctrl&&!a.altIsTypableOnly;(!t.modifiers.alt&&t.modifiers.ctrl||A&&t.modifiers.alt||t.modifiers.meta||t.modifiers.hyper)&&(this.reliable=!0),f[e]=this.keysym};o.prototype=new i;var A=function(e){i.apply(this),this.charCode=e,this.keysym=b(e),this.reliable=!0};A.prototype=new i;var s=function(e,n,r,a){i.apply(this),this.keyCode=e,this.keyIdentifier=n,this.key=r,this.location=a,this.keysym=v(e,a)||w(r,a),t.pressed[this.keysym]||(this.keysym=f[e]||this.keysym),this.reliable=!0};s.prototype=new i;var u=[],c={8:[65288],9:[65289],12:[65291,65291,65291,65461],13:[65293],16:[65505,65505,65506],17:[65507,65507,65508],18:[65513,65513,65027],19:[65299],20:[65509],27:[65307],32:[32],33:[65365,65365,65365,65465],34:[65366,65366,65366,65459],35:[65367,65367,65367,65457],36:[65360,65360,65360,65463],37:[65361,65361,65361,65460],38:[65362,65362,65362,65464],39:[65363,65363,65363,65462],40:[65364,65364,65364,65458],45:[65379,65379,65379,65456],46:[65535,65535,65535,65454],91:[65515],92:[65383],93:null,96:[65456],97:[65457],98:[65458],99:[65459],100:[65460],101:[65461],102:[65462],103:[65463],104:[65464],105:[65465],106:[65450],107:[65451],109:[65453],110:[65454],111:[65455],112:[65470],113:[65471],114:[65472],115:[65473],116:[65474],117:[65475],118:[65476],119:[65477],120:[65478],121:[65479],122:[65480],123:[65481],144:[65407],145:[65300],225:[65027]},l={Again:[65382],AllCandidates:[65341],Alphanumeric:[65328],Alt:[65513,65513,65027],Attn:[64782],AltGraph:[65027],ArrowDown:[65364],ArrowLeft:[65361],ArrowRight:[65363],ArrowUp:[65362],Backspace:[65288],CapsLock:[65509],Cancel:[65385],Clear:[65291],Convert:[65313],Copy:[64789],Crsel:[64796],CrSel:[64796],CodeInput:[65335],Compose:[65312],Control:[65507,65507,65508],ContextMenu:[65383],Delete:[65535],Down:[65364],End:[65367],Enter:[65293],EraseEof:[64774],Escape:[65307],Execute:[65378],Exsel:[64797],ExSel:[64797],F1:[65470],F2:[65471],F3:[65472],F4:[65473],F5:[65474],F6:[65475],F7:[65476],F8:[65477],F9:[65478],F10:[65479],F11:[65480],F12:[65481],F13:[65482],F14:[65483],F15:[65484],F16:[65485],F17:[65486],F18:[65487],F19:[65488],F20:[65489],F21:[65490],F22:[65491],F23:[65492],F24:[65493],Find:[65384],GroupFirst:[65036],GroupLast:[65038],GroupNext:[65032],GroupPrevious:[65034],FullWidth:null,HalfWidth:null,HangulMode:[65329],Hankaku:[65321],HanjaMode:[65332],Help:[65386],Hiragana:[65317],HiraganaKatakana:[65319],Home:[65360],Hyper:[65517,65517,65518],Insert:[65379],JapaneseHiragana:[65317],JapaneseKatakana:[65318],JapaneseRomaji:[65316],JunjaMode:[65336],KanaMode:[65325],KanjiMode:[65313],Katakana:[65318],Left:[65361],Meta:[65511,65511,65512],ModeChange:[65406],NumLock:[65407],PageDown:[65366],PageUp:[65365],Pause:[65299],Play:[64790],PreviousCandidate:[65342],PrintScreen:[65377],Redo:[65382],Right:[65363],RomanCharacters:null,Scroll:[65300],Select:[65376],Separator:[65452],Shift:[65505,65505,65506],SingleCandidate:[65340],Super:[65515,65515,65516],Tab:[65289],UIKeyInputDownArrow:[65364],UIKeyInputEscape:[65307],UIKeyInputLeftArrow:[65361],UIKeyInputRightArrow:[65363],UIKeyInputUpArrow:[65362],Up:[65362],Undo:[65381],Win:[65515],Zenkaku:[65320],ZenkakuHankaku:[65322]},h={65027:!0,65505:!0,65506:!0,65507:!0,65508:!0,65509:!0,65511:!0,65512:!0,65513:!0,65514:!0,65515:!0,65516:!0};this.modifiers=new n.Keyboard.ModifierState,this.pressed={};var d={},g={},f={},p=null,y=null,M=function(e,t){return e?e[t]||e[0]:null},m=function(e){return e>=0&&e<=255||16777216==(4294901760&e)};function w(e,t,n){if(!e)return null;var r,a=e.indexOf("U+");if(a>=0){var i=e.substring(a+2);r=String.fromCharCode(parseInt(i,16))}else{if(1!==e.length||3===t)return M(l[e],t);r=e}return!0===n?r=r.toUpperCase():!1===n&&(r=r.toLowerCase()),b(r.charCodeAt(0))}function b(e){return function(e){return e<=31||e>=127&&e<=159}(e)?65280|e:e>=0&&e<=255?e:e>=256&&e<=1114111?16777216|e:null}function v(e,t){return M(c[e],t)}var I=function(e,t){if(!t)return!1;var n=t.indexOf("U+");return-1===n||(e!==parseInt(t.substring(n+2),16)||(e>=65&&e<=90||e>=48&&e<=57))};this.press=function(e){if(null!==e){if(!t.pressed[e]&&(t.pressed[e]=!0,t.onkeydown)){var n=t.onkeydown(e);return g[e]=n,window.clearTimeout(p),window.clearInterval(y),h[e]||(p=window.setTimeout((function(){y=window.setInterval((function(){t.onkeyup(e),t.onkeydown(e)}),50)}),500)),n}return g[e]||!1}},this.release=function(e){t.pressed[e]&&(delete t.pressed[e],delete d[e],window.clearTimeout(p),window.clearInterval(y),null!==e&&t.onkeyup&&t.onkeyup(e))},this.type=function(e){for(var n=0;n<e.length;n++){var r=b(e.codePointAt?e.codePointAt(n):e.charCodeAt(n));t.press(r),t.release(r)}},this.reset=function(){for(var e in t.pressed)t.release(parseInt(e));u=[]};var N=function(e,n,r,a){var i;if(-1===r.indexOf(a.keysym))if(e&&!1===n)for(i=0;i<r.length;i++)t.release(r[i]);else if(!e&&n){for(i=0;i<r.length;i++)if(t.pressed[r[i]])return;var o=r[0];a.keysym&&(d[o]=!0),t.press(o)}},E=function(e,r){var a=n.Keyboard.ModifierState.fromKeyboardEvent(e);N(t.modifiers.alt,a.alt,[65513,65514,65027],r),N(t.modifiers.shift,a.shift,[65505,65506],r),N(t.modifiers.ctrl,a.ctrl,[65507,65508],r),N(t.modifiers.meta,a.meta,[65511,65512],r),N(t.modifiers.hyper,a.hyper,[65515,65516],r),t.modifiers=a},z=function(){for(var e in t.pressed)if(!d[e])return!1;return!0};function T(){var e,n=C();if(!n)return!1;do{e=n,n=C()}while(null!==n);return z()&&t.reset(),e.defaultPrevented}var C=function(){var e=u[0];if(!e)return null;if(!(e instanceof o))return e instanceof s&&!a.keyupUnreliable?(n=e.keysym)?(t.release(n),delete f[e.keyCode],e.defaultPrevented=!0,u.shift()):(t.reset(),e):u.shift();var n=null,r=[];if(e.reliable?(n=e.keysym,r=u.splice(0,1)):u[1]instanceof A?(n=u[1].keysym,r=u.splice(0,2)):u[1]&&(n=e.keysym,r=u.splice(0,1)),r.length>0){if(n){!function(e){t.modifiers.ctrl&&t.modifiers.alt&&(e>=65&&e<=90||e>=97&&e<=122||(e<=255||16777216==(4278190080&e))&&(t.release(65507),t.release(65508),t.release(65513),t.release(65514)))}(n);var i=!t.press(n);f[e.keyCode]=n,e.keyupReliable||t.release(n);for(var c=0;c<r.length;c++)r[c].defaultPrevented=i}return e}return null},j=function(e){return"location"in e?e.location:"keyLocation"in e?e.keyLocation:0},S=function(e){return!e[r]&&(e[r]=!0,!0)};this.listenTo=function(e){e.addEventListener("keydown",(function(e){if(t.onkeydown&&S(e)){var n;window.event?n=window.event.keyCode:e.which&&(n=e.which);var r=new o(n,e.keyIdentifier,e.key,j(e));E(e,r),229!==n&&(u.push(r),T()&&e.preventDefault())}}),!0),e.addEventListener("keypress",(function(e){if((t.onkeydown||t.onkeyup)&&S(e)){var n;window.event?n=window.event.keyCode:e.which&&(n=e.which);var r=new A(n);E(e,r),u.push(r),T()&&e.preventDefault()}}),!0),e.addEventListener("keyup",(function(e){if(t.onkeyup&&S(e)){var n;e.preventDefault(),window.event?n=window.event.keyCode:e.which&&(n=e.which);var r=new s(n,e.keyIdentifier,e.key,j(e));E(e,r),u.push(r),T()}}),!0);var n=function(n){(t.onkeydown||t.onkeyup)&&S(n)&&n.data&&!n.isComposing&&(e.removeEventListener("compositionend",r,!1),t.type(n.data))},r=function(r){(t.onkeydown||t.onkeyup)&&S(r)&&r.data&&(e.removeEventListener("input",n,!1),t.type(r.data))};e.addEventListener("input",n,!1),e.addEventListener("compositionend",r,!1)},e&&t.listenTo(e)},n.Keyboard._nextID=0,n.Keyboard.ModifierState=function(){this.shift=!1,this.ctrl=!1,this.alt=!1,this.meta=!1,this.hyper=!1},n.Keyboard.ModifierState.fromKeyboardEvent=function(e){var t=new n.Keyboard.ModifierState;return t.shift=e.shiftKey,t.ctrl=e.ctrlKey,t.alt=e.altKey,t.meta=e.metaKey,e.getModifierState&&(t.hyper=e.getModifierState("OS")||e.getModifierState("Super")||e.getModifierState("Hyper")||e.getModifierState("Win")),t},(n=n||{}).Layer=function(e,t){var r=this,a=document.createElement("canvas"),i=a.getContext("2d");i.save();var o=!0,A=!0,s=0,u={1:"destination-in",2:"destination-out",4:"source-in",6:"source-atop",8:"source-out",9:"destination-atop",10:"xor",11:"destination-over",12:"copy",14:"source-over",15:"lighter"},c=function(e,t){e=e||0,t=t||0;var n=64*Math.ceil(e/64),A=64*Math.ceil(t/64);if(a.width!==n||a.height!==A){var u=null;if(!o&&0!==a.width&&0!==a.height)(u=document.createElement("canvas")).width=Math.min(r.width,e),u.height=Math.min(r.height,t),u.getContext("2d").drawImage(a,0,0,u.width,u.height,0,0,u.width,u.height);var c=i.globalCompositeOperation;a.width=n,a.height=A,u&&i.drawImage(u,0,0,u.width,u.height,0,0,u.width,u.height),i.globalCompositeOperation=c,s=0,i.save()}else r.reset();r.width=e,r.height=t};function l(e,t,n,a){var i,o,A=n+e,s=a+t;i=A>r.width?A:r.width,o=s>r.height?s:r.height,r.resize(i,o)}this.autosize=!1,this.width=e,this.height=t,this.getCanvas=function(){return a},this.toCanvas=function(){var e=document.createElement("canvas");return e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r.getCanvas(),0,0),e},this.resize=function(e,t){e===r.width&&t===r.height||c(e,t)},this.drawImage=function(e,t,n){r.autosize&&l(e,t,n.width,n.height),i.drawImage(n,e,t),o=!1},this.transfer=function(e,t,a,A,s,u,c,h){var d=e.getCanvas();if(!(t>=d.width||a>=d.height)&&(t+A>d.width&&(A=d.width-t),a+s>d.height&&(s=d.height-a),0!==A&&0!==s)){r.autosize&&l(u,c,A,s);for(var g=e.getCanvas().getContext("2d").getImageData(t,a,A,s),f=i.getImageData(u,c,A,s),p=0;p<A*s*4;p+=4){var y=new n.Layer.Pixel(g.data[p],g.data[p+1],g.data[p+2],g.data[p+3]),M=new n.Layer.Pixel(f.data[p],f.data[p+1],f.data[p+2],f.data[p+3]);h(y,M),f.data[p]=M.red,f.data[p+1]=M.green,f.data[p+2]=M.blue,f.data[p+3]=M.alpha}i.putImageData(f,u,c),o=!1}},this.put=function(e,t,n,a,A,s,u){var c=e.getCanvas();if(!(t>=c.width||n>=c.height)&&(t+a>c.width&&(a=c.width-t),n+A>c.height&&(A=c.height-n),0!==a&&0!==A)){r.autosize&&l(s,u,a,A);var h=e.getCanvas().getContext("2d").getImageData(t,n,a,A);i.putImageData(h,s,u),o=!1}},this.copy=function(e,t,n,a,A,s,u){var c=e.getCanvas();t>=c.width||n>=c.height||(t+a>c.width&&(a=c.width-t),n+A>c.height&&(A=c.height-n),0!==a&&0!==A&&(r.autosize&&l(s,u,a,A),i.drawImage(c,t,n,a,A,s,u,a,A),o=!1))},this.moveTo=function(e,t){A&&(i.beginPath(),A=!1),r.autosize&&l(e,t,0,0),i.moveTo(e,t)},this.lineTo=function(e,t){A&&(i.beginPath(),A=!1),r.autosize&&l(e,t,0,0),i.lineTo(e,t)},this.arc=function(e,t,n,a,o,s){A&&(i.beginPath(),A=!1),r.autosize&&l(e,t,0,0),i.arc(e,t,n,a,o,s)},this.curveTo=function(e,t,n,a,o,s){A&&(i.beginPath(),A=!1),r.autosize&&l(o,s,0,0),i.bezierCurveTo(e,t,n,a,o,s)},this.close=function(){i.closePath(),A=!0},this.rect=function(e,t,n,a){A&&(i.beginPath(),A=!1),r.autosize&&l(e,t,n,a),i.rect(e,t,n,a)},this.clip=function(){i.clip(),A=!0},this.strokeColor=function(e,t,n,r,a,s,u){i.lineCap=e,i.lineJoin=t,i.lineWidth=n,i.strokeStyle="rgba("+r+","+a+","+s+","+u/255+")",i.stroke(),o=!1,A=!0},this.fillColor=function(e,t,n,r){i.fillStyle="rgba("+e+","+t+","+n+","+r/255+")",i.fill(),o=!1,A=!0},this.strokeLayer=function(e,t,n,r){i.lineCap=e,i.lineJoin=t,i.lineWidth=n,i.strokeStyle=i.createPattern(r.getCanvas(),"repeat"),i.stroke(),o=!1,A=!0},this.fillLayer=function(e){i.fillStyle=i.createPattern(e.getCanvas(),"repeat"),i.fill(),o=!1,A=!0},this.push=function(){i.save(),s++},this.pop=function(){s>0&&(i.restore(),s--)},this.reset=function(){for(;s>0;)i.restore(),s--;i.restore(),i.save(),i.beginPath(),A=!1},this.setTransform=function(e,t,n,r,a,o){i.setTransform(e,t,n,r,a,o)},this.transform=function(e,t,n,r,a,o){i.transform(e,t,n,r,a,o)},this.setChannelMask=function(e){i.globalCompositeOperation=u[e]},this.setMiterLimit=function(e){i.miterLimit=e},c(e,t),a.style.zIndex=-1},n.Layer.ROUT=2,n.Layer.ATOP=6,n.Layer.XOR=10,n.Layer.ROVER=11,n.Layer.OVER=14,n.Layer.PLUS=15,n.Layer.RIN=1,n.Layer.IN=4,n.Layer.OUT=8,n.Layer.RATOP=9,n.Layer.SRC=12,n.Layer.Pixel=function(e,t,n,r){this.red=e,this.green=t,this.blue=n,this.alpha=r},(n=n||{}).Mouse=function(e){var t=this;this.touchMouseThreshold=3,this.scrollThreshold=53,this.PIXELS_PER_LINE=18,this.PIXELS_PER_PAGE=16*this.PIXELS_PER_LINE,this.currentState=new n.Mouse.State(0,0,!1,!1,!1,!1,!1),this.onmousedown=null,this.onmouseup=null,this.onmousemove=null,this.onmouseout=null;var r=0,a=0;function i(e){e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function o(){r=t.touchMouseThreshold}function A(e){var n=e.deltaY||-e.wheelDeltaY||-e.wheelDelta;if(n?1===e.deltaMode?n=e.deltaY*t.PIXELS_PER_LINE:2===e.deltaMode&&(n=e.deltaY*t.PIXELS_PER_PAGE):n=e.detail*t.PIXELS_PER_LINE,(a+=n)<=-t.scrollThreshold){do{t.onmousedown&&(t.currentState.up=!0,t.onmousedown(t.currentState)),t.onmouseup&&(t.currentState.up=!1,t.onmouseup(t.currentState)),a+=t.scrollThreshold}while(a<=-t.scrollThreshold);a=0}if(a>=t.scrollThreshold){do{t.onmousedown&&(t.currentState.down=!0,t.onmousedown(t.currentState)),t.onmouseup&&(t.currentState.down=!1,t.onmouseup(t.currentState)),a-=t.scrollThreshold}while(a>=t.scrollThreshold);a=0}i(e)}e.addEventListener("contextmenu",(function(e){i(e)}),!1),e.addEventListener("mousemove",(function(n){i(n),r?r--:(t.currentState.fromClientPosition(e,n.clientX,n.clientY),t.onmousemove&&t.onmousemove(t.currentState))}),!1),e.addEventListener("mousedown",(function(e){if(i(e),!r){switch(e.button){case 0:t.currentState.left=!0;break;case 1:t.currentState.middle=!0;break;case 2:t.currentState.right=!0}t.onmousedown&&t.onmousedown(t.currentState)}}),!1),e.addEventListener("mouseup",(function(e){if(i(e),!r){switch(e.button){case 0:t.currentState.left=!1;break;case 1:t.currentState.middle=!1;break;case 2:t.currentState.right=!1}t.onmouseup&&t.onmouseup(t.currentState)}}),!1),e.addEventListener("mouseout",(function(n){n||(n=window.event);for(var r=n.relatedTarget||n.toElement;r;){if(r===e)return;r=r.parentNode}i(n),(t.currentState.left||t.currentState.middle||t.currentState.right)&&(t.currentState.left=!1,t.currentState.middle=!1,t.currentState.right=!1,t.onmouseup&&t.onmouseup(t.currentState)),t.onmouseout&&t.onmouseout()}),!1),e.addEventListener("selectstart",(function(e){i(e)}),!1),e.addEventListener("touchmove",o,!1),e.addEventListener("touchstart",o,!1),e.addEventListener("touchend",o,!1),e.addEventListener("DOMMouseScroll",A,!1),e.addEventListener("mousewheel",A,!1),e.addEventListener("wheel",A,!1);var s=function(){var e=document.createElement("div");if(!("cursor"in e.style))return!1;try{e.style.cursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEX///+nxBvIAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==) 0 0, auto"}catch(e){return!1}return/\burl\([^()]*\)\s+0\s+0\b/.test(e.style.cursor||"")}();this.setCursor=function(t,n,r){if(s){var a=t.toDataURL("image/png");return e.style.cursor="url("+a+") "+n+" "+r+", auto",!0}return!1}},n.Mouse.State=function(e,t,n,r,a,i,o){var A=this;this.x=e,this.y=t,this.left=n,this.middle=r,this.right=a,this.up=i,this.down=o,this.fromClientPosition=function(e,t,n){A.x=t-e.offsetLeft,A.y=n-e.offsetTop;for(var r=e.offsetParent;r&&r!==document.body;)A.x-=r.offsetLeft-r.scrollLeft,A.y-=r.offsetTop-r.scrollTop,r=r.offsetParent;if(r){var a=document.body.scrollLeft||document.documentElement.scrollLeft,i=document.body.scrollTop||document.documentElement.scrollTop;A.x-=r.offsetLeft-a,A.y-=r.offsetTop-i}}},n.Mouse.Touchpad=function(e){var t=this;this.scrollThreshold=20*(window.devicePixelRatio||1),this.clickTimingThreshold=250,this.clickMoveThreshold=10*(window.devicePixelRatio||1),this.currentState=new n.Mouse.State(0,0,!1,!1,!1,!1,!1),this.onmousedown=null,this.onmouseup=null,this.onmousemove=null;var r=0,a=0,i=0,o=0,A=0,s={1:"left",2:"right",3:"middle"},u=!1,c=null;e.addEventListener("touchend",(function(e){if(e.preventDefault(),u&&0===e.touches.length){var n=(new Date).getTime(),a=s[r];t.currentState[a]&&(t.currentState[a]=!1,t.onmouseup&&t.onmouseup(t.currentState),c&&(window.clearTimeout(c),c=null)),n-o<=t.clickTimingThreshold&&A<t.clickMoveThreshold&&(t.currentState[a]=!0,t.onmousedown&&t.onmousedown(t.currentState),c=window.setTimeout((function(){t.currentState[a]=!1,t.onmouseup&&t.onmouseup(t.currentState),u=!1}),t.clickTimingThreshold)),c||(u=!1)}}),!1),e.addEventListener("touchstart",(function(e){if(e.preventDefault(),r=Math.min(e.touches.length,3),c&&(window.clearTimeout(c),c=null),!u){u=!0;var t=e.touches[0];a=t.clientX,i=t.clientY,o=(new Date).getTime(),A=0}}),!1),e.addEventListener("touchmove",(function(n){n.preventDefault();var s=n.touches[0],u=s.clientX-a,c=s.clientY-i;if(A+=Math.abs(u)+Math.abs(c),1===r){var l=1+A/((new Date).getTime()-o);t.currentState.x+=u*l,t.currentState.y+=c*l,t.currentState.x<0?t.currentState.x=0:t.currentState.x>=e.offsetWidth&&(t.currentState.x=e.offsetWidth-1),t.currentState.y<0?t.currentState.y=0:t.currentState.y>=e.offsetHeight&&(t.currentState.y=e.offsetHeight-1),t.onmousemove&&t.onmousemove(t.currentState),a=s.clientX,i=s.clientY}else if(2===r){var h;if(Math.abs(c)>=t.scrollThreshold)h=c>0?"down":"up",t.currentState[h]=!0,t.onmousedown&&t.onmousedown(t.currentState),t.currentState[h]=!1,t.onmouseup&&t.onmouseup(t.currentState),a=s.clientX,i=s.clientY}}),!1)},n.Mouse.Touchscreen=function(e){var t=this,r=!1,a=null,i=null,o=null,A=null;function s(e){t.currentState[e]||(t.currentState[e]=!0,t.onmousedown&&t.onmousedown(t.currentState))}function u(e){t.currentState[e]&&(t.currentState[e]=!1,t.onmouseup&&t.onmouseup(t.currentState))}function c(n,r){t.currentState.fromClientPosition(e,n,r),t.onmousemove&&t.onmousemove(t.currentState)}function l(e){var n=e.touches[0]||e.changedTouches[0],r=n.clientX-a,o=n.clientY-i;return Math.sqrt(r*r+o*o)>=t.clickMoveThreshold}function h(){window.clearTimeout(o),window.clearTimeout(A),r=!1}this.scrollThreshold=20*(window.devicePixelRatio||1),this.clickTimingThreshold=250,this.clickMoveThreshold=16*(window.devicePixelRatio||1),this.longPressThreshold=500,this.currentState=new n.Mouse.State(0,0,!1,!1,!1,!1,!1),this.onmousedown=null,this.onmouseup=null,this.onmousemove=null,e.addEventListener("touchend",(function(e){if(r)if(0===e.touches.length&&1===e.changedTouches.length){if(window.clearTimeout(A),u("left"),!l(e)&&(e.preventDefault(),!t.currentState.left)){var n=e.changedTouches[0];c(n.clientX,n.clientY),s("left"),o=window.setTimeout((function(){u("left"),h()}),t.clickTimingThreshold)}}else h()}),!1),e.addEventListener("touchstart",(function(e){1===e.touches.length?(e.preventDefault(),function(e){var t=e.touches[0];r=!0,a=t.clientX,i=t.clientY}(e),window.clearTimeout(o),A=window.setTimeout((function(){var t,n=e.touches[0];c(n.clientX,n.clientY),s(t="right"),u(t),h()}),t.longPressThreshold)):h()}),!1),e.addEventListener("touchmove",(function(e){if(r)if(l(e)&&window.clearTimeout(A),1===e.touches.length){if(t.currentState.left){e.preventDefault();var n=e.touches[0];c(n.clientX,n.clientY)}}else h()}),!1)},(n=(n=n||{})||{}).Object=function(e,t){var n=this,r={};this.index=t,this.onbody=function(e,t,n){var a=function(e){var t=r[e];if(!t)return null;var n=t.shift();return 0===t.length&&delete r[e],n}(n);a&&a(e,t)},this.onundefine=null,this.requestInputStream=function(t,a){a&&function(e,t){var n=r[e];n||(n=[],r[e]=n),n.push(t)}(t,a),e.requestObjectInputStream(n.index,t)},this.createOutputStream=function(t,r){return e.createObjectOutputStream(n.index,t,r)}},n.Object.ROOT_STREAM="/",n.Object.STREAM_INDEX_MIMETYPE="application/vnd.glyptodon.guacamole.stream-index+json",(n=n||{}).OnScreenKeyboard=function(e){var t=this,r={},a={},i=[],o=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},A=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(/([^ ]+)[ ]*/g,(function(e,n){return n===t?"":e}))},s=0,u=function(e,t,n,r){this.width=t,this.height=n,this.scale=function(a){e.style.width=t*a+"px",e.style.height=n*a+"px",r&&(e.style.lineHeight=n*a+"px",e.style.fontSize=a+"px")}},c=function(e){for(var t=0;t<e.length;t++){if(!(e[t]in r))return!1}return!0},l=function(e){var n=t.keys[e];if(!n)return null;for(var r=n.length-1;r>=0;r--){var a=n[r];if(c(a.requires))return a}return null},h=function(e,n){if(!a[e]){o(n,"guac-keyboard-pressed");var i=l(e);if(i.modifier){var s="guac-keyboard-modifier-"+p(i.modifier),u=r[i.modifier];u?(A(g,s),delete r[i.modifier],t.onkeyup&&t.onkeyup(u)):(o(g,s),r[i.modifier]=i.keysym,t.onkeydown&&t.onkeydown(i.keysym))}else t.onkeydown&&t.onkeydown(i.keysym);a[e]=!0}},d=function(e,n){if(a[e]){A(n,"guac-keyboard-pressed");var r=l(e);!r.modifier&&t.onkeyup&&t.onkeyup(r.keysym),a[e]=!1}},g=document.createElement("div");g.className="guac-keyboard",g.onselectstart=g.onmousemove=g.onmouseup=g.onmousedown=function(e){return s&&s--,e.stopPropagation(),!1},this.touchMouseThreshold=3,this.onkeydown=null,this.onkeyup=null,this.layout=new n.OnScreenKeyboard.Layout(e),this.getElement=function(){return g},this.resize=function(e){for(var n=Math.floor(10*e/t.layout.width)/10,r=0;r<i.length;r++){i[r].scale(n)}};var f=function(e,t){if(t instanceof Array){for(var r=[],a=0;a<t.length;a++)r.push(new n.OnScreenKeyboard.Key(t[a],e));return r}return"number"==typeof t?[new n.OnScreenKeyboard.Key({name:e,keysym:t})]:"string"==typeof t?[new n.OnScreenKeyboard.Key({name:e,title:t})]:[new n.OnScreenKeyboard.Key(t,e)]};this.keys=function(t){var n={};for(var r in e.keys)n[r]=f(r,t[r]);return n}(e.keys);var p=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[^A-Za-z0-9]+/g,"-").toLowerCase()};!function e(n,r,a){var A,c=document.createElement("div");if(a&&o(c,"guac-keyboard-"+p(a)),r instanceof Array)for(o(c,"guac-keyboard-group"),A=0;A<r.length;A++)e(c,r[A]);else if(r instanceof Object){o(c,"guac-keyboard-group");var l=Object.keys(r).sort();for(A=0;A<l.length;A++){a=l[A];e(c,r[a],a)}}else if("number"==typeof r)o(c,"guac-keyboard-gap"),i.push(new u(c,r,r));else if("string"==typeof r){var g=r;1===g.length&&(g="0x"+g.charCodeAt(0).toString(16)),o(c,"guac-keyboard-key-container");var f=document.createElement("div");f.className="guac-keyboard-key guac-keyboard-key-"+p(g);var y=t.keys[r];if(y)for(A=0;A<y.length;A++){var M=y[A],m=document.createElement("div");m.className="guac-keyboard-cap",m.textContent=M.title;for(var w=0;w<M.requires.length;w++){var b=M.requires[w];o(m,"guac-keyboard-requires-"+p(b)),o(f,"guac-keyboard-uses-"+p(b))}f.appendChild(m)}c.appendChild(f),i.push(new u(c,t.layout.keyWidths[r]||1,1,!0));var v=function(e){e.preventDefault(),0===s&&d(r,f)};f.addEventListener("touchstart",(function(e){e.preventDefault(),s=t.touchMouseThreshold,h(r,f)}),!0),f.addEventListener("touchend",(function(e){e.preventDefault(),s=t.touchMouseThreshold,d(r,f)}),!0),f.addEventListener("mousedown",(function(e){e.preventDefault(),0===s&&h(r,f)}),!0),f.addEventListener("mouseup",v,!0),f.addEventListener("mouseout",v,!0)}n.appendChild(c)}(g,e.layout)},n.OnScreenKeyboard.Layout=function(e){this.language=e.language,this.type=e.type,this.keys=e.keys,this.layout=e.layout,this.width=e.width,this.keyWidths=e.keyWidths||{}},n.OnScreenKeyboard.Key=function(e,t){this.name=t||e.name,this.title=e.title||this.name,this.keysym=e.keysym||function(e){if(!e||1!==e.length)return null;var t=e.charCodeAt(0);return t>=0&&t<=255?t:t>=256&&t<=1114111?16777216|t:null}(this.title),this.modifier=e.modifier,this.requires=e.requires||[]},(n=n||{}).OutputStream=function(e,t){var n=this;this.index=t,this.onack=null,this.sendBlob=function(t){e.sendBlob(n.index,t)},this.sendEnd=function(){e.endStream(n.index)}},(n=n||{}).Parser=function(){var e=this,t="",n=[],r=-1,a=0;this.receive=function(i){for(a>4096&&r>=a&&(t=t.substring(a),r-=a,a=0),t+=i;r<t.length;){if(r>=a){var o=t.substring(a,r),A=t.substring(r,r+1);if(n.push(o),";"==A){var s=n.shift();null!=e.oninstruction&&e.oninstruction(s,n),n.length=0}else if(","!=A)throw new Error("Illegal terminator.");a=r+1}var u=t.indexOf(".",a);if(-1==u){a=t.length;break}var c=parseInt(t.substring(r+1,u));if(isNaN(c))throw new Error("Non-numeric character in element length.");r=(a=u+1)+c}},this.oninstruction=null},(n=n||{}).RawAudioFormat=function(e){this.bytesPerSample=e.bytesPerSample,this.channels=e.channels,this.rate=e.rate},n.RawAudioFormat.parse=function(e){var t,r=null,a=1;if("audio/L8;"===e.substring(0,9))e=e.substring(9),t=1;else{if("audio/L16;"!==e.substring(0,10))return null;e=e.substring(10),t=2}for(var i=e.split(","),o=0;o<i.length;o++){var A=i[o],s=A.indexOf("=");if(-1===s)return null;var u=A.substring(0,s),c=A.substring(s+1);switch(u){case"channels":a=parseInt(c);break;case"rate":r=parseInt(c);break;default:return null}}return null===r?null:new n.RawAudioFormat({bytesPerSample:t,channels:a,rate:r})},(n=n||{}).SessionRecording=function(e){var t=this,r=[],a=[],i=0,o=0,A=new n.SessionRecording._PlaybackTunnel,s=new n.Client(A),u=-1,c=null,l=null,h=null;s.connect(),s.getDisplay().showCursor(!1),e.oninstruction=function(e,A){var s=new n.SessionRecording._Frame.Instruction(e,A.slice());if(a.push(s),i+=s.getSize(),"sync"===e){var u=parseInt(A[0]),c=new n.SessionRecording._Frame(u,a);r.push(c),(1===r.length||i>=16384&&u-o>=5e3)&&(c.keyframe=!0,o=u,i=0),a=[],t.onprogress&&t.onprogress(t.getDuration())}};var d=function(e){return 0===r.length?0:e-r[0].timestamp},g=function(e){for(var t=r[e],n=0;n<t.instructions.length;n++){var a=t.instructions[n];A.receiveInstruction(a.opcode,a.args)}t.keyframe&&!t.clientState&&s.exportState((function(e){t.clientState=e}))},f=function e(n,a,i){p(),h=window.setTimeout((function(){var o;for(o=n;o>=0;o--){var A=r[o];if(o===u)break;if(A.clientState){s.importState(A.clientState);break}}o++;for(var c=(new Date).getTime();o<=n;o++){if((new Date).getTime()-c>=5)break;g(o)}u=o-1,t.onseek&&t.onseek(t.getPosition()),u!==n?e(n,a,Math.max(i-((new Date).getTime()-c),0)):a()}),i||0)},p=function(){window.clearTimeout(h)};this.onprogress=null,this.onplay=null,this.onpause=null,this.onseek=null,this.connect=function(t){e.connect(t)},this.disconnect=function(){e.disconnect()},this.getDisplay=function(){return s.getDisplay()},this.isPlaying=function(){return!!c},this.getPosition=function(){return-1===u?0:d(r[u].timestamp)},this.getDuration=function(){return 0===r.length?0:d(r[r.length-1].timestamp)},this.play=function(){if(!t.isPlaying()&&u+1<r.length){t.onplay&&t.onplay();var e=r[u+1];c=e.timestamp,l=(new Date).getTime(),function e(){if(u+1<r.length){var n=r[u+1].timestamp-c+l,a=Math.max(n-(new Date).getTime(),0);f(u+1,(function(){e()}),a)}else t.pause()}()}},this.seek=function(e,n){if(0!==r.length){var a=t.isPlaying();t.pause(),f(function e(t,n,a){if(t===n)return t;var i=Math.floor((t+n)/2),o=d(r[i].timestamp);return a<o&&i>t?e(t,i-1,a):a>o&&i<n?e(i+1,n,a):i}(0,r.length-1,e),(function(){a&&t.play(),n&&n()}))}},this.pause=function(){p(),t.isPlaying()&&(t.onpause&&t.onpause(),c=null,l=null)}},n.SessionRecording._Frame=function(e,t){this.keyframe=!1,this.timestamp=e,this.instructions=t,this.clientState=null},n.SessionRecording._Frame.Instruction=function(e,t){var n=this;this.opcode=e,this.args=t,this.getSize=function(){for(var e=n.opcode.length,t=0;t<n.args.length;t++)e+=n.args[t].length;return e}},n.SessionRecording._PlaybackTunnel=function(){var e=this;this.connect=function(e){},this.sendMessage=function(e){},this.disconnect=function(){},this.receiveInstruction=function(t,n){e.oninstruction&&e.oninstruction(t,n)}},(n=n||{}).Status=function(e,t){var n=this;this.code=e,this.message=t,this.isError=function(){return n.code<0||n.code>255}},n.Status.Code={SUCCESS:0,UNSUPPORTED:256,SERVER_ERROR:512,SERVER_BUSY:513,UPSTREAM_TIMEOUT:514,UPSTREAM_ERROR:515,RESOURCE_NOT_FOUND:516,RESOURCE_CONFLICT:517,RESOURCE_CLOSED:518,UPSTREAM_NOT_FOUND:519,UPSTREAM_UNAVAILABLE:520,SESSION_CONFLICT:521,SESSION_TIMEOUT:522,SESSION_CLOSED:523,CLIENT_BAD_REQUEST:768,CLIENT_UNAUTHORIZED:769,CLIENT_FORBIDDEN:771,CLIENT_TIMEOUT:776,CLIENT_OVERRUN:781,CLIENT_BAD_TYPE:783,CLIENT_TOO_MANY:797},n.Status.Code.fromHTTPCode=function(e){switch(e){case 400:return n.Status.Code.CLIENT_BAD_REQUEST;case 403:return n.Status.Code.CLIENT_FORBIDDEN;case 404:return n.Status.Code.RESOURCE_NOT_FOUND;case 429:return n.Status.Code.CLIENT_TOO_MANY;case 503:return n.Status.Code.SERVER_BUSY}return n.Status.Code.SERVER_ERROR},n.Status.Code.fromWebSocketCode=function(e){switch(e){case 1e3:return n.Status.Code.SUCCESS;case 1006:case 1015:return n.Status.Code.UPSTREAM_NOT_FOUND;case 1001:case 1012:case 1013:case 1014:return n.Status.Code.UPSTREAM_UNAVAILABLE}return n.Status.Code.SERVER_ERROR},(n=n||{}).StringReader=function(e){var t=this,r=new n.ArrayBufferReader(e),a=0,i=0;r.ondata=function(e){var n=function(e){for(var t="",n=new Uint8Array(e),r=0;r<n.length;r++){var o=n[r];0===a?127==(127|o)?t+=String.fromCharCode(o):223==(31|o)?(i=31&o,a=1):239==(15|o)?(i=15&o,a=2):247==(7|o)?(i=7&o,a=3):t+="�":191==(63|o)?(i=i<<6|63&o,0===--a&&(t+=String.fromCharCode(i))):(a=0,t+="�")}return t}(e);t.ontext&&t.ontext(n)},r.onend=function(){t.onend&&t.onend()},this.ontext=null,this.onend=null},(n=n||{}).StringWriter=function(e){var t=this,r=new n.ArrayBufferWriter(e),a=new Uint8Array(8192),i=0;function o(e){var t,n;if(e<=127)t=0,n=1;else if(e<=2047)t=192,n=2;else if(e<=65535)t=224,n=3;else{if(!(e<=2097151))return void o(65533);t=240,n=4}!function(e){if(i+e>=a.length){var t=new Uint8Array(2*(i+e));t.set(a),a=t}i+=e}(n);for(var r=i-1,A=1;A<n;A++)a[r--]=128|63&e,e>>=6;a[r]=t|e}r.onack=function(e){t.onack&&t.onack(e)},this.sendText=function(e){e.length&&r.sendData(function(e){for(var t=0;t<e.length;t++){o(e.charCodeAt(t))}if(i>0){var n=a.subarray(0,i);return i=0,n}}(e))},this.sendEnd=function(){r.sendEnd()},this.onack=null},(n=n||{}).Tunnel=function(){this.connect=function(e){},this.disconnect=function(){},this.sendMessage=function(e){},this.setState=function(e){e!==this.state&&(this.state=e,this.onstatechange&&this.onstatechange(e))},this.isConnected=function(){return this.state===n.Tunnel.State.OPEN||this.state===n.Tunnel.State.UNSTABLE},this.state=n.Tunnel.State.CONNECTING,this.receiveTimeout=15e3,this.unstableThreshold=1500,this.uuid=null,this.onerror=null,this.onstatechange=null,this.oninstruction=null},n.Tunnel.INTERNAL_DATA_OPCODE="",n.Tunnel.State={CONNECTING:0,OPEN:1,CLOSED:2,UNSTABLE:3},n.HTTPTunnel=function(e,t,r){var a=this,i=e+"?connect",o=e+"?read:",A=e+"?write:",s=1,u=0,c=s,l=!1,h="",d=!!t,g=null,f=null,p=null,y=r||{};function M(e,t){for(var n in t)e.setRequestHeader(n,t[n])}function m(){window.clearTimeout(g),window.clearTimeout(f),a.state===n.Tunnel.State.UNSTABLE&&a.setState(n.Tunnel.State.OPEN),g=window.setTimeout((function(){w(new n.Status(n.Status.Code.UPSTREAM_TIMEOUT,"Server timeout."))}),a.receiveTimeout),f=window.setTimeout((function(){a.setState(n.Tunnel.State.UNSTABLE)}),a.unstableThreshold)}function w(e){window.clearTimeout(g),window.clearTimeout(f),window.clearInterval(p),a.state!==n.Tunnel.State.CLOSED&&(e.code!==n.Status.Code.SUCCESS&&a.onerror&&(a.state!==n.Tunnel.State.CONNECTING&&e.code===n.Status.Code.RESOURCE_NOT_FOUND||a.onerror(e)),l=!1,a.setState(n.Tunnel.State.CLOSED))}function b(){if(a.isConnected())if(h.length>0){l=!0;var e=new XMLHttpRequest;e.open("POST",A+a.uuid),e.withCredentials=d,M(e,y),e.setRequestHeader("Content-type","application/octet-stream"),e.onreadystatechange=function(){4===e.readyState&&(m(),200!==e.status?v(e):b())},e.send(h),h=""}else l=!1}function v(e){var t=parseInt(e.getResponseHeader("Guacamole-Status-Code"));if(t){var r=e.getResponseHeader("Guacamole-Error-Message");w(new n.Status(t,r))}else e.status?w(new n.Status(n.Status.Code.fromHTTPCode(e.status),e.statusText)):w(new n.Status(n.Status.Code.UPSTREAM_NOT_FOUND))}this.sendMessage=function(){if(a.isConnected()&&0!==arguments.length){for(var e=n(arguments[0]),t=1;t<arguments.length;t++)e+=","+n(arguments[t]);h+=e+=";",l||b()}function n(e){var t=new String(e);return t.length+"."+t}};var I=0;function N(){var e=new XMLHttpRequest;return e.open("GET",o+a.uuid+":"+I++),e.withCredentials=d,M(e,y),e.send(null),e}this.connect=function(e){m(),a.setState(n.Tunnel.State.CONNECTING);var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(m(),a.uuid=t.responseText,a.setState(n.Tunnel.State.OPEN),p=setInterval((function(){a.sendMessage("nop")}),500),function e(t){var n=null,r=null,i=0,o=-1,A=0,l=new Array;function h(){if(a.isConnected()){if(!(t.readyState<2)){var i;try{i=t.status}catch(e){i=200}if(r||200!==i||(r=N()),3===t.readyState||4===t.readyState){if(m(),c===s&&(3!==t.readyState||n?4===t.readyState&&n&&clearInterval(n):n=setInterval(h,30)),0===t.status)return void a.disconnect();if(200!==t.status)return void v(t);var u;try{u=t.responseText}catch(e){return}for(;o<u.length;){if(o>=A){var d=u.substring(A,o),g=u.substring(o,o+1);if(l.push(d),";"===g){var f=l.shift();a.oninstruction&&a.oninstruction(f,l),l.length=0}A=o+1}var p=u.indexOf(".",A);if(-1===p){A=u.length;break}var y=parseInt(u.substring(o+1,p));if(0===y){n&&clearInterval(n),t.onreadystatechange=null,t.abort(),r&&e(r);break}o=(A=p+1)+y}}}}else null!==n&&clearInterval(n)}t.onreadystatechange=c===s?function(){3===t.readyState&&++i>=2&&(c=u,t.onreadystatechange=h),h()}:h,h()}(N())):v(t))},t.open("POST",i,!0),t.withCredentials=d,M(t,y),t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),t.send(e)},this.disconnect=function(){w(new n.Status(n.Status.Code.SUCCESS,"Manually closed."))}},n.HTTPTunnel.prototype=new n.Tunnel,n.WebSocketTunnel=function(e){var t=this,r=null,a=null,i=null,o=null;if("ws:"!==e.substring(0,3)&&"wss:"!==e.substring(0,4)){var A={"http:":"ws:","https:":"wss:"}[window.location.protocol];if("/"===e.substring(0,1))e=A+"//"+window.location.host+e;else{var s=window.location.pathname.lastIndexOf("/"),u=window.location.pathname.substring(0,s+1);e=A+"//"+window.location.host+u+e}}function c(){window.clearTimeout(a),window.clearTimeout(i),t.state===n.Tunnel.State.UNSTABLE&&t.setState(n.Tunnel.State.OPEN),a=window.setTimeout((function(){l(new n.Status(n.Status.Code.UPSTREAM_TIMEOUT,"Server timeout."))}),t.receiveTimeout),i=window.setTimeout((function(){t.setState(n.Tunnel.State.UNSTABLE)}),t.unstableThreshold)}function l(e){window.clearTimeout(a),window.clearTimeout(i),window.clearInterval(o),t.state!==n.Tunnel.State.CLOSED&&(e.code!==n.Status.Code.SUCCESS&&t.onerror&&t.onerror(e),t.setState(n.Tunnel.State.CLOSED),r.close())}this.sendMessage=function(e){if(t.isConnected()&&0!==arguments.length){for(var n=i(arguments[0]),a=1;a<arguments.length;a++)n+=","+i(arguments[a]);n+=";",r.send(n)}function i(e){var t=new String(e);return t.length+"."+t}},this.connect=function(a){c(),t.setState(n.Tunnel.State.CONNECTING),(r=new WebSocket(e+"?"+a,"guacamole")).onopen=function(e){c(),o=setInterval((function(){t.sendMessage(n.Tunnel.INTERNAL_DATA_OPCODE,"ping",(new Date).getTime())}),500)},r.onclose=function(e){e.reason?l(new n.Status(parseInt(e.reason),e.reason)):e.code?l(new n.Status(n.Status.Code.fromWebSocketCode(e.code))):l(new n.Status(n.Status.Code.UPSTREAM_NOT_FOUND))},r.onmessage=function(e){c();var r,a=e.data,i=0,o=[];do{var A=a.indexOf(".",i);if(-1!==A)r=(i=A+1)+parseInt(a.substring(r+1,A));else l(new n.Status(n.Status.Code.SERVER_ERROR,"Incomplete instruction."));var s=a.substring(i,r),u=a.substring(r,r+1);if(o.push(s),";"===u){var h=o.shift();null===t.uuid&&(h===n.Tunnel.INTERNAL_DATA_OPCODE&&(t.uuid=o[0]),t.setState(n.Tunnel.State.OPEN)),h!==n.Tunnel.INTERNAL_DATA_OPCODE&&t.oninstruction&&t.oninstruction(h,o),o.length=0}i=r+1}while(i<a.length)}},this.disconnect=function(){l(new n.Status(n.Status.Code.SUCCESS,"Manually closed."))}},n.WebSocketTunnel.prototype=new n.Tunnel,n.ChainedTunnel=function(e){for(var t,r=this,a=[],i=null,o=0;o<arguments.length;o++)a.push(arguments[o]);function A(e){r.disconnect=e.disconnect,r.sendMessage=e.sendMessage;var o=function(t){if(t&&t.code===n.Status.Code.UPSTREAM_TIMEOUT)return a=[],null;var r=a.shift();return r&&(e.onerror=null,e.oninstruction=null,e.onstatechange=null,A(r)),r};function s(){e.onstatechange=r.onstatechange,e.oninstruction=r.oninstruction,e.onerror=r.onerror,r.uuid=e.uuid,i=e}e.onstatechange=function(e){switch(e){case n.Tunnel.State.OPEN:s(),r.onstatechange&&r.onstatechange(e);break;case n.Tunnel.State.CLOSED:!o()&&r.onstatechange&&r.onstatechange(e)}},e.oninstruction=function(e,t){s(),r.oninstruction&&r.oninstruction(e,t)},e.onerror=function(e){!o(e)&&r.onerror&&r.onerror(e)},e.connect(t)}this.connect=function(e){t=e;var o=i||a.shift();o?A(o):r.onerror&&r.onerror(n.Status.Code.SERVER_ERROR,"No tunnels to try.")}},n.ChainedTunnel.prototype=new n.Tunnel,n.StaticHTTPTunnel=function(e,t,r){var a=this,i=null,o=r||{};this.sendMessage=function(e){},this.connect=function(r){a.disconnect(),a.setState(n.Tunnel.State.CONNECTING),(i=new XMLHttpRequest).open("GET",e),i.withCredentials=!!t,function(e,t){for(var n in t)e.setRequestHeader(n,t[n])}(i,o),i.responseType="text",i.send(null);var A=0,s=new n.Parser;s.oninstruction=function(e,t){a.oninstruction&&a.oninstruction(e,t)},i.onreadystatechange=function(){if(3===i.readyState||4===i.readyState){a.setState(n.Tunnel.State.OPEN);var e=i.responseText,t=e.length;A<t&&(s.receive(e.substring(A)),A=t)}4===i.readyState&&a.disconnect()},i.onerror=function(){a.onerror&&a.onerror(new n.Status(n.Status.Code.fromHTTPCode(i.status),i.statusText)),a.disconnect()}},this.disconnect=function(){i&&(i.abort(),i=null),a.setState(n.Tunnel.State.CLOSED)}},n.StaticHTTPTunnel.prototype=new n.Tunnel,(n=n||{}).API_VERSION="1.1.0",(n=n||{}).VideoPlayer=function(){this.sync=function(){}},n.VideoPlayer.isSupportedType=function(e){return!1},n.VideoPlayer.getSupportedTypes=function(){return[]},n.VideoPlayer.getInstance=function(e,t,n){return null},e.exports=n},function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,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"},function(e,t,n){var r=n(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(10)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(5);(e.exports=n(6)(!1)).push([e.i,'@font-face {\n  font-family: "iconfont";\n  src: url('+r(n(2))+");\n  /* IE9 */\n  src: url("+r(n(2))+"#iefix) format('embedded-opentype'),  url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAR0AAsAAAAACbwAAAQlAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDMgqGWIUZATYCJAMUCwwABCAFhG0HShsnCBEVnJPJfh7GjonM1klMad8o76OSriT2cxBQmzm7CxwHSc5E6mJU1b/tz+QlJgmA/eb8IQgboUpy9AFAl3It514uHbilHCDhH/cqZ50HbD6guKzxftaYPCgXwNAESYDGGN1UkkUttWJFr4q4Lb2Zgl+GACxiyUbUrN2wJSYa9iwBiIH9+nTDLOjROugCU2U0bNQQS9Ax5Vx5A1gcfb54Q6EwQaIr7EOa9q7Vk6rPeflPOd7oqBbhiJazAuI2UEA2oIEY3mgfiEri2Sgs/fc0qgIWJhL5nOee5w9e/vN6DemFlJaTAA25zD9PGNjoAq1qQoPneMKM8ECLBPEAVhSvTQTxa0GdNlhAIAgBoiK2OnqD0QqJcLtdLn//AH9YXb5u/wsD5u2LFOv3z98bwZo9Y3Nv723t2jd1f5q9c6+zZxz/fa3n7Qpdtzmsze6TBzcEt1yxYqh1hzHzVoWu2hTVZvXplJUbw1uu2NFXwLMgdZa1hvfw6ZRWrY4VO4aRIWo1adeMnu3trddtPn8ypNXaNcHBK/qRbAP/J1dMuP2s1a2nLe88b333RacTF5yL8y9PvVR99+Uote7SvAtI52I3n1X7LGvenmBj5V7bnr9/giwPa37ihLt3Gw276bwOvXGntXdfUG/pqN6pvZUje4uirKAYU2u8fW45TmrNd+IDe8FQEWF8dfS1vZMGfZ0lv+oL0zc+7FW45eqKSft+6lO6b6nobyxp/qvrZ5XBmw3911C/yuB+9TefN5zmmXWDKeuX9e/boWYVny2Fg6v8WhLvY3BZTc9lKxxZMYDPaYf6k/jRU7t+Xm/nZ9XvV2Vw16HSd3OVwU2HfN9ZbfF5q0PfKoOdJWX+tgO/z8SriXf1mBj9rsML+H5Z5t/e2lede0L2kZp2qV2zbMvo0uiWHOh82SU95zzSddkdFYQHvTs3DyzwIHd3LEY/Hk3NJtnHpy1Z1XPltKXH02XUpCwA3tVfNZGYqUbKSVK71KL/1o8SM9n9scuy4jfT1gB4kLoXXi+NYcgfhGCw6J8kGlijGRLboGtapSfUnDrHvyWUepMF/H/cgTxZxhkCmVVgSiKAxIcYUJgkkzRaNujYFIOBSRWwyKLOdpsghqMQmi+QyUwGAn8Og8TDZVD4c5Ok0R6DTijvwMBfKLBoLYIOtEkVhmxywxgIxhCeIIuoVq5JJnHpNyZNGXBeEjH+kU0WAtdyyqkHrJGXWGL2iSeiQDFVcM+uw7Ik0Ew5RmKlInpl26rplayIqtaEG8ZAMIbwBFlEtQoay6Ty8d+YNGXAHVV17n9kk/UPruUMID1gPajqUV5i9oknokAxVXDPrFg6cQLdPC7HSKx0QlSvbKqnhqK1vbJ6j7sAC/t4XUihhCZ0YTAcSEGc1cnwEHAdje7roDHY02VwarUAAAAA') format('woff2'), url("+r(n(7))+") format('woff'), url("+r(n(8))+") format('truetype'),  url("+r(n(9))+'#iconfont) format(\'svg\');\n  /* iOS 4.1- */\n}\n.iconfont {\n  font-family: "iconfont" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.icon-loading:before {\n  content: "\\E8FD";\n}\n.icon-warning:before {\n  content: "\\E60E";\n}\n.icon-pause:before {\n  content: "\\E6DA";\n}\n.icon-play:before {\n  content: "\\E600";\n}\n@-webkit-keyframes rotating {\n  from {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes rotating {\n  from {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.guaca-player {\n  display: block;\n  height: 100%;\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n}\n.guaca-player .guaca-pausing {\n  position: absolute;\n  z-index: 7;\n  width: 100%;\n  top: 0;\n  bottom: 40px;\n  color: #fff;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n  background-color: rgba(0, 0, 0, 0.4);\n}\n.guaca-player .guaca-pausing .iconfont {\n  font-size: 34px;\n  margin-bottom: 20px;\n}\n.guaca-player .guaca-player-display {\n  width: 100%;\n  height: calc(100% - 40px);\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n  overflow: hidden;\n  background-color: #1a1a1a;\n}\n.guaca-player .guaca-player-control {\n  height: 40px;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n  background-color: #000;\n  -webkit-box-flex: 0;\n          flex-grow: 0;\n  flex-shrink: 0;\n  width: 100%;\n}\n.guaca-player .guaca-player-control .guaca-player-control-range-wrapper {\n  height: 6px;\n  background-color: #808080;\n  position: relative;\n  z-index: 8;\n  width: 100%;\n}\n.guaca-player .guaca-player-control .guaca-player-control-range-wrapper input[type=range] {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  display: block;\n  width: 100%;\n  background-color: #03a9f4;\n  height: 6px;\n  margin: 0;\n  cursor: pointer;\n}\n.guaca-player .guaca-player-control .guaca-player-control-range-wrapper input[type=range]:focus {\n  border: none;\n  outline: none;\n}\n.guaca-player .guaca-player-control .guaca-player-control-range-wrapper input[type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n          appearance: none;\n  background-color: #fff;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);\n}\n.guaca-player .guaca-player-control .guaca-player-control-btn-wrapper {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n}\n.guaca-player .guaca-player-control .guaca-player-control-btn-wrapper span {\n  color: #fff;\n  letter-spacing: 2px;\n  font-size: 12px;\n}\n.guaca-player .guaca-player-control .guaca-player-control-btn-wrapper .guaca-player-control-btn {\n  border: none;\n  height: 34px;\n  width: 34px;\n  padding: 0;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  background: transparent;\n  margin-right: 10px;\n}\n.guaca-player .guaca-player-control .guaca-player-control-btn-wrapper .guaca-player-control-btn:focus {\n  outline: none;\n}\n.guaca-player .guaca-player-control .guaca-player-control-btn-wrapper .guaca-player-control-btn:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n.guaca-player .guaca-player-control .guaca-player-control-btn-wrapper .guaca-player-control-btn .iconfont {\n  color: #fff;\n}\n.guaca-player .guaca-player-message {\n  display: none;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n          justify-content: center;\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  z-index: 10;\n  color: #fff;\n}\n.guaca-player .guaca-player-message .guaca-player-message-wrapper {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-box-align: center;\n          align-items: center;\n}\n.guaca-player .guaca-player-message .guaca-player-message-wrapper .guaca-player-message-icon {\n  margin-right: 10px;\n}\n.guaca-player .guaca-player-message .guaca-player-message-wrapper .guaca-player-message-icon .iconfont {\n  font-size: 20px;\n}\n.guaca-player .guaca-player-message .guaca-player-message-wrapper .guaca-player-message-icon .guaca-spin {\n  -webkit-animation: rotating 0.8s linear infinite;\n          animation: rotating 0.8s linear infinite;\n}\n.guaca-player .guaca-player-progress {\n  color: #fff;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 9;\n  background-color: rgba(0, 0, 0, 0.8);\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n          justify-content: center;\n  display: none;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n}\n.guaca-player .guaca-player-progress.guaca-player-progress-visiable {\n  display: -webkit-box;\n  display: flex;\n}\n.guaca-player .guaca-player-progress > span {\n  letter-spacing: 4px;\n}\n.guaca-player .guaca-player-progress button {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  background-color: rgba(0, 0, 0, 0.1);\n  border: 2px solid #fff;\n  padding: 5px 10px;\n  color: #fff;\n  margin-top: 20px;\n  cursor: pointer;\n}\n.guaca-player .guaca-player-progress button:hover {\n  background-color: rgba(0, 0, 0, 0.5);\n  border-color: rgba(255, 255, 255, 0.9);\n}\n.guaca-player .guaca-player-progress button:focus {\n  outline: none;\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper {\n  width: 110px;\n  height: 110px;\n  position: relative;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n          justify-content: center;\n  margin-bottom: 20px;\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper * {\n  box-sizing: border-box;\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-player-progress-indicator {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  border: 15px solid rgba(255, 255, 255, 0.2);\n  flex-shrink: 0;\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-player-progress-indicator-left,\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-player-progress-indicator-right {\n  border-color: #03a9f4;\n  clip: rect(0px, 55px, 110px, 0px);\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-player-progress-text {\n  position: absolute;\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-player-progress-indicator-wrapper {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip: rect(0px, 110px, 110px, 55px);\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-clip-left {\n  clip: rect(0px, 55px, 110px, 0px);\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-clip-right {\n  clip: rect(0px, 110px, 110px, 55px);\n}\n.guaca-player .guaca-player-progress .guaca-player-progress-wrapper .guaca-clip-auto {\n  clip: auto;\n}\n',""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([a]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t){e.exports="data:font/woff;base64,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"},function(e,t){e.exports="data:font/ttf;base64,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"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPCEtLQoyMDEzLTktMzA6IENyZWF0ZWQuCi0tPgo8c3ZnPgo8bWV0YWRhdGE+CkNyZWF0ZWQgYnkgaWNvbmZvbnQKPC9tZXRhZGF0YT4KPGRlZnM+Cgo8Zm9udCBpZD0iaWNvbmZvbnQiIGhvcml6LWFkdi14PSIxMDI0IiA+CiAgPGZvbnQtZmFjZQogICAgZm9udC1mYW1pbHk9Imljb25mb250IgogICAgZm9udC13ZWlnaHQ9IjUwMCIKICAgIGZvbnQtc3RyZXRjaD0ibm9ybWFsIgogICAgdW5pdHMtcGVyLWVtPSIxMDI0IgogICAgYXNjZW50PSI4OTYiCiAgICBkZXNjZW50PSItMTI4IgogIC8+CiAgICA8bWlzc2luZy1nbHlwaCAvPgogICAgCiAgICA8Z2x5cGggZ2x5cGgtbmFtZT0ibG9hZGluZyIgdW5pY29kZT0iJiM1OTY0NTsiIGQ9Ik01MTIgNjgyLjY2NjY2N2MtMjUuNiAwLTQyLjY2NjY2NyAxNy4wNjY2NjctNDIuNjY2NjY3IDQyLjY2NjY2N0w0NjkuMzMzMzMzIDg1My4zMzMzMzNjMCAyNS42IDE3LjA2NjY2NyA0Mi42NjY2NjcgNDIuNjY2NjY3IDQyLjY2NjY2N3M0Mi42NjY2NjctMTcuMDY2NjY3IDQyLjY2NjY2Ny00Mi42NjY2NjdsMC0xMjhDNTU0LjY2NjY2NyA2OTkuNzMzMzMzIDUzNy42IDY4Mi42NjY2NjcgNTEyIDY4Mi42NjY2Njd6TTUxMi0xMjhjLTI1LjYgMC00Mi42NjY2NjcgMTcuMDY2NjY3LTQyLjY2NjY2NyA0Mi42NjY2NjdsMCAxMjhjMCAyNS42IDE3LjA2NjY2NyA0Mi42NjY2NjcgNDIuNjY2NjY3IDQyLjY2NjY2N3M0Mi42NjY2NjctMTcuMDY2NjY3IDQyLjY2NjY2Ny00Mi42NjY2NjdsMC0xMjhDNTU0LjY2NjY2Ny0xMTAuOTMzMzMzIDUzNy42LTEyOCA1MTItMTI4ek0xNzAuNjY2NjY3IDM0MS4zMzMzMzMgNDIuNjY2NjY3IDM0MS4zMzMzMzNjLTI1LjYgMC00Mi42NjY2NjcgMTcuMDY2NjY3LTQyLjY2NjY2NyA0Mi42NjY2NjdzMTcuMDY2NjY3IDQyLjY2NjY2NyA0Mi42NjY2NjcgNDIuNjY2NjY3bDEyOCAwYzI1LjYgMCA0Mi42NjY2NjctMTcuMDY2NjY3IDQyLjY2NjY2Ny00Mi42NjY2NjdTMTk2LjI2NjY2NyAzNDEuMzMzMzMzIDE3MC42NjY2NjcgMzQxLjMzMzMzM3pNOTgxLjMzMzMzMyAzNDEuMzMzMzMzbC0xMjggMGMtMjUuNiAwLTQyLjY2NjY2NyAxNy4wNjY2NjctNDIuNjY2NjY3IDQyLjY2NjY2N3MxNy4wNjY2NjcgNDIuNjY2NjY3IDQyLjY2NjY2NyA0Mi42NjY2NjdsMTI4IDBjMjUuNiAwIDQyLjY2NjY2Ny0xNy4wNjY2NjcgNDIuNjY2NjY3LTQyLjY2NjY2N1MxMDA2LjkzMzMzMyAzNDEuMzMzMzMzIDk4MS4zMzMzMzMgMzQxLjMzMzMzM3pNODA2LjQgNTEyYy0xMi44IDAtMjkuODY2NjY3IDguNTMzMzMzLTM4LjQgMjEuMzMzMzMzLTEyLjggMjEuMzMzMzMzLTQuMjY2NjY3IDQ2LjkzMzMzMyAxNy4wNjY2NjcgNTkuNzMzMzMzTDg5NiA2NTcuMDY2NjY3YzIxLjMzMzMzMyAxMi44IDQ2LjkzMzMzMyA0LjI2NjY2NyA1OS43MzMzMzMtMTcuMDY2NjY3IDEyLjgtMjEuMzMzMzMzIDQuMjY2NjY3LTQ2LjkzMzMzMy0xNy4wNjY2NjctNTkuNzMzMzMzbC0xMTAuOTMzMzMzLTY0QzgyMy40NjY2NjcgNTEyIDgxNC45MzMzMzMgNTEyIDgwNi40IDUxMnpNMTA2LjY2NjY2NyAxMDYuNjY2NjY3Yy0xMi44IDAtMjkuODY2NjY3IDguNTMzMzMzLTM4LjQgMjEuMzMzMzMzLTEyLjggMjEuMzMzMzMzLTQuMjY2NjY3IDQ2LjkzMzMzMyAxNy4wNjY2NjcgNTkuNzMzMzMzbDExMC45MzMzMzMgNjRjMjEuMzMzMzMzIDEyLjggNDYuOTMzMzMzIDQuMjY2NjY3IDU5LjczMzMzMy0xNy4wNjY2NjcgMTIuOC0yMS4zMzMzMzMgNC4yNjY2NjctNDYuOTMzMzMzLTE3LjA2NjY2Ny01OS43MzMzMzNMMTI4IDExMC45MzMzMzNDMTE5LjQ2NjY2NyAxMDYuNjY2NjY3IDExMC45MzMzMzMgMTA2LjY2NjY2NyAxMDYuNjY2NjY3IDEwNi42NjY2Njd6TTY4Mi42NjY2NjcgNjM1LjczMzMzM2MtOC41MzMzMzMgMC0xMi44IDAtMjEuMzMzMzMzIDQuMjY2NjY3LTIxLjMzMzMzMyAxMi44LTI1LjYgMzguNC0xNy4wNjY2NjcgNTkuNzMzMzMzTDcwOC4yNjY2NjcgODEwLjY2NjY2N2MxMi44IDIxLjMzMzMzMyAzOC40IDI1LjYgNTkuNzMzMzMzIDE3LjA2NjY2NyAyMS4zMzMzMzMtMTIuOCAyNS42LTM4LjQgMTcuMDY2NjY3LTU5LjczMzMzM2wtNjQtMTEwLjkzMzMzM0M3MTIuNTMzMzMzIDY0NC4yNjY2NjcgNjk1LjQ2NjY2NyA2MzUuNzMzMzMzIDY4Mi42NjY2NjcgNjM1LjczMzMzM3pNMjc3LjMzMzMzMy02NGMtOC41MzMzMzMgMC0xMi44IDAtMjEuMzMzMzMzIDQuMjY2NjY3LTIxLjMzMzMzMyAxMi44LTI1LjYgMzguNC0xNy4wNjY2NjcgNTkuNzMzMzMzbDY0IDExMC45MzMzMzNDMzE1LjczMzMzMyAxMjggMzQxLjMzMzMzMyAxMzYuNTMzMzMzIDM2Mi42NjY2NjcgMTIzLjczMzMzM2MyMS4zMzMzMzMtMTIuOCAyNS42LTM4LjQgMTcuMDY2NjY3LTU5LjczMzMzM0wzMTUuNzMzMzMzLTQyLjY2NjY2N0MzMDcuMi01NS40NjY2NjcgMjkwLjEzMzMzMy02NCAyNzcuMzMzMzMzLTY0ek0yMTcuNiA1MTJDMjA5LjA2NjY2NyA1MTIgMjAwLjUzMzMzMyA1MTIgMTk2LjI2NjY2NyA1MTYuMjY2NjY3TDg1LjMzMzMzMyA1ODAuMjY2NjY3QzY0IDU5My4wNjY2NjcgNTUuNDY2NjY3IDYxOC42NjY2NjcgNjguMjY2NjY3IDY0MCA4MS4wNjY2NjcgNjYxLjMzMzMzMyAxMDYuNjY2NjY3IDY2NS42IDEyOCA2NTcuMDY2NjY3bDExMC45MzMzMzMtNjRDMjYwLjI2NjY2NyA1ODAuMjY2NjY3IDI2NC41MzMzMzMgNTU0LjY2NjY2NyAyNTEuNzMzMzMzIDUzMy4zMzMzMzMgMjQ3LjQ2NjY2NyA1MjAuNTMzMzMzIDIzMC40IDUxMiAyMTcuNiA1MTJ6TTkxNy4zMzMzMzMgMTA2LjY2NjY2N2MtOC41MzMzMzMgMC0xMi44IDAtMjEuMzMzMzMzIDQuMjY2NjY3bC0xMTAuOTMzMzMzIDY0Yy0yMS4zMzMzMzMgMTIuOC0yNS42IDM4LjQtMTcuMDY2NjY3IDU5LjczMzMzMyAxMi44IDIxLjMzMzMzMyAzOC40IDI1LjYgNTkuNzMzMzMzIDE3LjA2NjY2N2wxMTAuOTMzMzMzLTY0YzIxLjMzMzMzMy0xMi44IDI1LjYtMzguNCAxNy4wNjY2NjctNTkuNzMzMzMzQzk0Ny4yIDExNS4yIDkzNC40IDEwNi42NjY2NjcgOTE3LjMzMzMzMyAxMDYuNjY2NjY3ek0zNDEuMzMzMzMzIDYzNS43MzMzMzNjLTEyLjggMC0yOS44NjY2NjcgOC41MzMzMzMtMzguNCAyMS4zMzMzMzNMMjM4LjkzMzMzMyA3NjhDMjMwLjQgNzg5LjMzMzMzMyAyMzQuNjY2NjY3IDgxNC45MzMzMzMgMjU2IDgyNy43MzMzMzMgMjc3LjMzMzMzMyA4NDAuNTMzMzMzIDMwMi45MzMzMzMgODMyIDMxNS43MzMzMzMgODEwLjY2NjY2N2w2NC0xMTAuOTMzMzMzQzM4OC4yNjY2NjcgNjc4LjQgMzg0IDY1Mi44IDM2Mi42NjY2NjcgNjQ0LjI2NjY2NyAzNTQuMTMzMzMzIDY0MCAzNDkuODY2NjY3IDYzNS43MzMzMzMgMzQxLjMzMzMzMyA2MzUuNzMzMzMzek03NDYuNjY2NjY3LTY0Yy0xMi44IDAtMjkuODY2NjY3IDguNTMzMzMzLTM4LjQgMjEuMzMzMzMzbC02NCAxMTAuOTMzMzMzYy0xMi44IDIxLjMzMzMzMy00LjI2NjY2NyA0Ni45MzMzMzMgMTcuMDY2NjY3IDU5LjczMzMzMyAyMS4zMzMzMzMgMTIuOCA0Ni45MzMzMzMgNC4yNjY2NjcgNTkuNzMzMzMzLTE3LjA2NjY2N2w2NC0xMTAuOTMzMzMzYzEyLjgtMjEuMzMzMzMzIDQuMjY2NjY3LTQ2LjkzMzMzMy0xNy4wNjY2NjctNTkuNzMzMzMzQzc1OS40NjY2NjctNjQgNzU1LjItNjQgNzQ2LjY2NjY2Ny02NHoiICBob3Jpei1hZHYteD0iMTAyNCIgLz4KCiAgICAKICAgIDxnbHlwaCBnbHlwaC1uYW1lPSJ3YXJuaW5nIiB1bmljb2RlPSImIzU4ODk0OyIgZD0iTTUxMiA4OTEuODczMjhjMjgwLjQ5NDA4IDAgNTA3Ljg3MzI4LTIyNy4zNzkyIDUwNy44NzMyOC01MDcuODczMjggMC0yODAuNDk0MDgtMjI3LjM3OTItNTA3Ljg3MzI4LTUwNy44NzMyOC01MDcuODczMjhDMjMxLjUwNTkyLTEyMy44NzMyODAwMDAwMDAwMiA0LjEyNjcyIDEwMy41MDU5MTk5OTk5OTk5NSA0LjEyNjcyIDM4NCA0LjEyNjcyIDY2NC40OTQwNzk5OTk5OTk5IDIzMS41MDU5MiA4OTEuODczMjggNTEyIDg5MS44NzMyOHpNNTEyIDIxMC4wMzI2NDAwMDAwMDAwMWMtNDIuNDc1NTIgMC03Ni45MTI2NC0zNC40MjY4OC03Ni45MTI2NC03Ni45MTI2NCAwLTQyLjQ3NTUyIDM0LjQzNzEyLTc2LjkxMjY0IDc2LjkxMjY0LTc2LjkxMjY0IDQyLjQ3NTUyIDAgNzYuOTEyNjQgMzQuNDM3MTIgNzYuOTEyNjQgNzYuOTEyNjRDNTg4LjkxMjY0IDE3NS42MDU3NjAwMDAwMDAwMyA1NTQuNDc1NTIgMjEwLjAzMjY0MDAwMDAwMDAxIDUxMiAyMTAuMDMyNjQwMDAwMDAwMDF6TTUwOS43ODgxNiAyNzAuMTYxOTJjMzYuNTg3NTIgMCA2Ni4yNDI1NiAyOS42NjUyOCA2Ni4yNDI1NiA2Ni4yNDI1NmwwIDMwOS4xNDU2YzAgMzYuNTg3NTItMjkuNjU1MDQgNjYuMjQyNTYtNjYuMjQyNTYgNjYuMjQyNTYtMzYuNTg3NTIgMC02Ni4yNDI1Ni0yOS42NjUyOC02Ni4yNDI1Ni02Ni4yNDI1NmwwLTMwOS4xNDU2QzQ0My41NDU2IDI5OS44MTY5NiA0NzMuMjAwNjQgMjcwLjE2MTkyIDUwOS43ODgxNiAyNzAuMTYxOTJ6IiAgaG9yaXotYWR2LXg9IjEwMjQiIC8+CgogICAgCiAgICA8Z2x5cGggZ2x5cGgtbmFtZT0icGF1c2UiIHVuaWNvZGU9IiYjNTkwOTg7IiBkPSJNNDI4LjgtOTUuNDg4Vjg2My43NDRDNDI4LjggODgxLjYxMjggNDE0Ljc3MTIgODk2IDM5Ny4wNTYgODk2SDIxMC45NDRDMTkzLjIwMzIgODk2IDE3OS4yIDg4MS41ODcyIDE3OS4yIDg2My43NDR2LTk1OS4yMzJDMTc5LjItMTEzLjMwNTYgMTkzLjIyODgtMTI4IDIxMC45NDQtMTI4aDE4Ni4xMTJjMTcuNzE1MiAwIDMxLjc0NCAxNC40MTI4IDMxLjc0NCAzMi41MTJ6TTgxMy4wNTYgODk2aC0xODYuMTEyYy0xNy40MzM2IDAtMzEuNzQ0LTE0LjQxMjgtMzEuNzQ0LTMyLjI1NnYtOTU5LjIzMmMwLTE3Ljg0MzIgMTQuMDI4OC0zMi41MTIgMzEuNzQ0LTMyLjUxMmgxODYuMTEyYzE3LjQzMzYgMCAzMS43NDQgMTQuNDEyOCAzMS43NDQgMzIuNTEyVjg2My43NDRDODQ0LjggODgxLjYxMjggODMwLjc3MTIgODk2IDgxMy4wNTYgODk2eiIgIGhvcml6LWFkdi14PSIxMDI0IiAvPgoKICAgIAogICAgPGdseXBoIGdseXBoLW5hbWU9InBsYXkiIHVuaWNvZGU9IiYjNTg4ODA7IiBkPSJNOTAuNjI0IDc5NS41NTc5NzJDOTAuNjI0IDg4Ny42OTc4MTYgMTU0LjA5ODExNSA5MjIuNTA2MjAyIDIzMS45MDUwOTUgODc0LjM4ODcyN2w2NDIuOTMxMzU5LTQwMS4zMjAyMTFjNzcuODA2OTgtNDkuMTQxMjUgNzcuODA2OTgtMTI4Ljk5NTc4MiAwLTE3Ny4xMTMyNTZMMjMxLjkwNTA5NS0xMDYuMzg4NzI3QzE1NC4wOTgxMTUtMTU0LjUwNjIwMiA5MC42MjQtMTE5LjY5NzgxNiA5MC42MjQtMjcuNTU3OTcyVjc5NS41NTc5NzJ6IiAgaG9yaXotYWR2LXg9IjEwMjQiIC8+CgogICAgCgoKICA8L2ZvbnQ+CjwvZGVmcz48L3N2Zz4K"},function(e,t,n){"use strict";var r,a={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function A(e,t){for(var n=[],r={},a=0;a<e.length;a++){var i=e[a],o=t.base?i[0]+t.base:i[0],A={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(A):n.push(r[o]={id:o,parts:[A]})}return n}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id],o=0;if(i){for(i.refs++;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(p(r.parts[o],t))}else{for(var A=[];o<r.parts.length;o++)A.push(p(r.parts[o],t));a[r.id]={id:r.id,refs:1,parts:A}}}}function u(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function d(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a&&e.setAttribute("media",a),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var g=null,f=0;function p(e,t){var n,r,a;if(t.singleton){var i=f++;n=g||(g=u(t)),r=h.bind(null,n,i,!1),a=h.bind(null,n,i,!0)}else n=u(t),r=d.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=A(e,t);return s(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i],u=a[o.id];u&&(u.refs--,r.push(u))}e&&s(A(e,t),t);for(var c=0;c<r.length;c++){var l=r[c];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete a[l.id]}}}}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r);n(3);function i(e){const t=Object(r.useRef)();return Object(r.useEffect)(()=>{t.current=e}),t.current}var o=({display:e,isPlaying:t,onClick:n,playerState:o,progress:A,translation:s})=>{const u=Object(r.useRef)(null),c=u.current,l=Object(r.useCallback)(()=>{if(!e||!c)return;const t=c.parentElement,n=e.getWidth(),r=e.getHeight();n&&r&&e.scale(Math.min(t.offsetWidth/n,(t.offsetHeight-40)/r))},[e,c]),h=Object(r.useCallback)((e,t)=>{console.log(e),l()},[e,c]);!function(e,t=(()=>{})){const n=Object(r.useMemo)(()=>new MutationObserver(t),[t]);Object(r.useEffect)(()=>{if(e&&e.parentElement&&n)return n.observe(e.parentElement,{attributes:!0}),()=>{n.disconnect()}},[e,n])}(c,h);const d=i(e);return Object(r.useEffect)(()=>{if(c){if(e)return d&&(c.innerHTML="",d.onresize=null),c.appendChild(e.getElement()),e.onresize=l,l(),()=>{console.log("cancel resize"),e.onresize=null};c.innerHTML=""}},[e]),a.a.createElement(a.a.Fragment,null,!t&&"ready"===o&&!1===A.visiable&&a.a.createElement("div",{className:"guaca-pausing",onClick:n},a.a.createElement("i",{className:"iconfont icon-pause"}),a.a.createElement("div",null,s["message.player.pause"])),a.a.createElement("div",{className:"guaca-player-display",ref:u,onClick:n}))};function A(e){return String(e).padStart(2,"0")}function s(e){e=Math.floor((e||0)/1e3);const t=["1","24","60","60"];for(let n=t.length-1;n>=0;n--){let r=t[n];t[n]=A(e%Number(r)),e=Math.floor(e/Number(r))}const n=t.join(":");return(/^[0:]*([0-9]{2}(?::[0-9]{1,2})+)$/.exec(n)||[])[1]}const u=(e=0)=>new Promise(t=>window.setTimeout(t,e));function c(e=500){let t;function n(n){t&&window.clearTimeout(t),t=window.setTimeout(()=>{n(),t=null},e)}return n.cancel=()=>{t=window.clearTimeout(t)},n}function l(e){let t=!1;const n={promise:null,resolve:null,reject:null};return n.promise=new Promise((e,t)=>{n.resolve=e,n.reject=t}),n.promise.cancel=()=>{t=!0},e.then((...e)=>{t?n.reject("cancelled",...e):n.resolve(...e)}).catch((...e)=>{t?n.reject("cancelled",...e):n.resolve(...e)}),n.promise}var h=({currentDuration:e,duration:t,playbackPosition:n,isPlaying:o,pause:A,play:u,onChange:l})=>{const[h,d]=Object(r.useState)(!1),[g,f]=Object(r.useState)(n),p=i(h),y=Object(r.useMemo)(()=>c(0),[]),M=Object(r.useCallback)(e=>{e.stopPropagation(),o?A&&A():u&&u()},[o,u]),m=Object(r.useCallback)((e,t)=>{t.stopPropagation(),d(e)},[]),w=Object(r.useCallback)(e=>{e.stopPropagation(),f(Number(e.target.value))},[]);return Object(r.useEffect)(()=>{if(g!==n||p!==h)return l&&y(l.bind(void 0,{mouseDown:h,inputValue:g})),()=>{console.log("cancel deb"),y.cancel()}},[g,h,l]),a.a.createElement("div",{className:"guaca-player-control"},a.a.createElement("div",{className:"guaca-player-control-range-wrapper"},a.a.createElement("input",{className:"guaca-player-range-input",type:"range",min:0,max:e||0,value:n||0,style:{width:`${(e||1)/(t||1)*100}%`},onChange:w,onMouseDown:m.bind(void 0,!0),onMouseUp:m.bind(void 0,!1)})),a.a.createElement("div",{className:"guaca-player-control-btn-wrapper"},a.a.createElement("button",{className:"guaca-player-control-btn",onClick:M},a.a.createElement("i",{className:`iconfont ${o?"icon-pause":"icon-play"}`})),a.a.createElement("span",null,s(n||0),"/",s(t||0))))};var d=({translation:e,progress:{type:t,current:n,total:r,visiable:i},onCancel:o})=>{const A=Math.ceil(n/r*360)||0;return a.a.createElement("div",{className:`guaca-player-progress ${i&&"guaca-player-progress-visiable"}`},a.a.createElement("div",{className:"guaca-player-progress-wrapper"},a.a.createElement("div",{className:"guaca-player-progress-indicator guaca-player-progress-indicator-back"}),a.a.createElement("div",{className:`guaca-player-progress-indicator-wrapper ${A>180?"guaca-clip-auto":""}`},a.a.createElement("div",{className:"guaca-player-progress-indicator guaca-player-progress-indicator-left",style:{transform:`rotate(${A}deg)`}}),a.a.createElement("div",{className:`guaca-player-progress-indicator guaca-player-progress-indicator-right ${A>180?"guaca-clip-right":""}`})),a.a.createElement("div",{className:"guaca-player-progress-text"},Math.ceil(n/r*100||0),"%")),a.a.createElement("span",null,e["btn.loading"]),"seek"===t&&a.a.createElement("button",{onClick:o},e["btn.cancel"]))},g=n(1),f=n.n(g);let p;let y=0;class M{constructor(){this.url="",this.taskMap=new Map,this.filePool=[],this.transaction=async(e,t,n)=>{if(M.sessionDB.available){const r=await M.sessionDB.read({url:this.url,start:e,end:t});if(!this.taskMap.has(n))throw Error("db read cancelled");if(r)return r}const r=await function(e,t=0,n,r=5242880){return new Promise((a,i)=>{let o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState)return 200===o.status||206===o.status?a({status:o.status,file:o.response,contentRange:o.getResponseHeader("Content-Range")}):i(o)},o.open("get",e,!0),o.setRequestHeader("Range",`bytes=${t}-${void 0!==n?n:t+r}`);for(let e in p)o.setRequestHeader(e,p[e]);o.responseType="blob",o.send()})}(this.url,e,t,M.MAX_FILE_SIZE);if(!this.taskMap.has(n))throw Error("file http get cancelled");try{if(await M.sessionDB.add({url:this.url,start:e,end:t,data:r}),!this.taskMap.has(n))throw Error("db add cancelled")}catch(e){console.log(e)}return r},this.fetching=(e=0,t=e+M.MAX_FILE_SIZE)=>{const n=y++,r=l(this.transaction(e,t,n));return r.id=n,r},this.addFile=(e,t)=>{this.filePool.length>20&&this.filePool.shift(),this.filePool.push({index:e,file:t})},this.getFile=e=>{const t=this.filePool.find(t=>t.index===e);return t&&t.file}}}M.MAX_FILE_SIZE=5242880,M.sessionDB=new class{constructor(e="console-player"){this.db=null,this.version=1,this.available=!1,this.connectionPool=[],this.openInitDB=async()=>{if(this.connectionPool[0])return this.connectionPool[0];const e=this.IndxDb.open(this.dbName,this.version),t=new Promise((t,n)=>{e.onupgradeneeded=e=>{console.log("db updated"),this.db=e.target.result,this.db.objectStoreNames.contains("sessions")||this.db.createObjectStore("sessions",{keyPath:["url","start","end"]})},e.onsuccess=e=>(this.connectionPool.pop(),this.db=e.target.result,t(this.db)),e.onerror=e=>(this.connectionPool.pop(),n(e))});return this.connectionPool.push(t),t},this.getDB=async()=>this.db?this.db:await this.openInitDB(),this.add=async e=>{const t=await this.getDB();return new Promise((n,r)=>{const a=t.transaction(["sessions"],"readwrite").objectStore("sessions").add({timestamp:(new Date).getTime(),...e});a.onsuccess=t=>(console.log("db add",e,a),n(e.data)),a.onerror=e=>r(e)})},this.read=async e=>{const t=await this.getDB();return new Promise((n,r)=>{const a=t.transaction(["sessions"]).objectStore("sessions").get([e.url,e.start,e.end]);a.onsuccess=t=>(console.log("db read",e,a),n(a.result&&a.result.data)),a.onerror=e=>r(e)})},this.resetDB=async()=>{console.log("db closed"),(await this.getDB()).close(),this.IndxDb.deleteDatabase(this.dbName),this.openInitDB()},this.IndxDb=window.indexedDB,this.dbName=e,"indexedDB"in window&&(this.openInitDB(),this.available=!0)}};class m{constructor(e,t,n,r,a){this.index=0,this.size=0,this.rangeStart=0,this.rangeEnd=0,this.next=null,this.prev=null,this.taskId=null,this.getFile=async()=>{if(this.cacher.getFile(this.index))return this.cacher.getFile(this.index);if(this.taskId&&this.cacher.taskMap.has(this.taskId)){const{file:e}=await this.cacher.taskMap.get(this.taskId);return this.cacher.addFile(this.index,e),e}const e=this.cacher.fetching(this.rangeStart,this.rangeEnd);this.taskId=e.id,this.cacher.taskMap.set(this.taskId,e);const{file:t}=await e;return this.cacher.taskMap.delete(this.taskId),this.taskId=null,this.cacher.addFile(this.index,t),t},this.rangeStart=e,this.rangeEnd=t,this.size=n,this.index=r,this.cacher=a}}class w extends M{constructor(){super(),this.head=null,this.tail=null,this.size=0,this.partialCount=0,this.init=async e=>{if(this.clear(),e){this.url=e;const t=this.fetching(0,0),n=t.id;this.taskMap.set(n,t);const r=await t;this.taskMap.delete(n);const a=/\/(?=([0-9]+))/.exec(r.contentRange||"");a&&a[1]&&(this.size=Number(a[1]));let i=null,o=this.size;for(let e=(this.partialCount=Math.ceil(this.size/M.MAX_FILE_SIZE))-1;e>=0;e--){let t=e*M.MAX_FILE_SIZE,n=o-t;const r=new m(t,o,n,e,this);o-=n+1,i?r.next=i:this.tail=r,i=r}return this.head=i,this.head}throw"no file src!"},this.clear=()=>{this.url="",this.head=null,this.size=0,this.taskMap.clear(),this.filePool.length=0},this.cancelCaching=async()=>{for(let[e,t]of this.taskMap.entries())console.log("cancel tasks",t),t.cancel(),this.taskMap.delete(e)},this.slice=async(e,t)=>{if(!this.head)throw"no head partial, init first!";let n=Math.ceil((e||1)/M.MAX_FILE_SIZE)-1,r=Math.ceil(t/M.MAX_FILE_SIZE)-1,a=e-n*M.MAX_FILE_SIZE,i=t-r*M.MAX_FILE_SIZE,o=new Blob([]),A=this.head;for(;A&&!(A.index>r);){if(A.index>=n){let e=await A.getFile();n===r?e=e.slice(a,i):A.index===n?e=e.slice(a,e.size):A.index===r&&(e=e.slice(0,i)),o=new Blob([o,e])}A=A.next}return o}}}class b{constructor(){this.receiveInstruction=(e,t)=>{this.oninstruction&&this.oninstruction(e,t)}}connect(e){}sendMessage(e){}disconnect(){}}class v{constructor(e,t,n){this.keyframe=!1,this.timestamp=e,this.start=t,this.end=n,this.clientState=null}}const I=262144,N=16384,E=5e3;class z{constructor(e){this.playing=!1,this.frames=[],this.lastKeyframe=0,this.playbackTunnel=new b,this.playbackClient=new f.a.Client(this.playbackTunnel),this.currentFrame=-1,this.endVideoTimestamp=0,this.activeSeek=null,this.aborted=!1,this.seekCallback=null,this.frameStart=0,this.frameEnd=0,this.start=()=>{this.loadFile(this.fileCache.head)},this.stop=()=>{this.pause(),this.abort()},this.getLastTimestamp=async()=>{if(this.endVideoTimestamp||!this.fileCache.tail)return this.endVideoTimestamp;const e=await this.fileCache.tail.getFile(),t=await new Promise((t,n)=>{const r=new FileReader;r.onload=()=>"string"==typeof r.result?t(r.result):n(),r.readAsText(e)}),n=t.lastIndexOf("sync");return this.endVideoTimestamp=Number(t.slice(n+8,n+21)),this.endVideoTimestamp},this.loadFile=async e=>{this.onFileLoad&&this.onFileLoad({type:"loading",size:this.fileCache.size,current:0,trunkCount:this.fileCache.partialCount});let t=new f.a.Parser;for(;e;){this.onTrunkLoad&&this.onTrunkLoad({type:"loading",index:e.index,size:e.size,current:0});const n=await e.getFile();this.onFileLoad&&this.onFileLoad({type:"loading",size:this.fileCache.size,current:e.index,trunkCount:this.fileCache.partialCount}),n&&await this.addFile(e,t),this.onTrunkLoad&&this.onTrunkLoad({type:"loaded",index:e.index,size:e.size,current:e.size}),e=e.next}this.onFileLoad&&this.onFileLoad({type:"loaded",size:this.fileCache.size,current:this.fileCache.size,trunkCount:this.fileCache.partialCount})},this.addFile=async(e,t)=>{const n=await e.getFile();try{return this.parseBlob(n,t,(t,n)=>{this.frameEnd+=this.getElementSize(t);for(let e=0;e<n.length;e++)this.frameEnd+=this.getElementSize(n[e]);if("sync"===t){let t=parseInt(n[0]);const r=new v(t,this.frameStart,this.frameEnd);this.frames.push(r),this.frameStart=this.frameEnd,(1===this.frames.length||this.chartIntervalBetweenFrames(r,this.frames[this.lastKeyframe])>=N&&t-this.frames[this.lastKeyframe].timestamp>=E)&&(r.keyframe=!0,this.lastKeyframe=this.lastFrameIndex),this.onTrunkLoad&&this.onTrunkLoad({type:"parsing",index:e.index,size:e.size,current:this.frameEnd-e.index*w.MAX_FILE_SIZE})}})}catch(e){console.log("parseBlob error")}},this.chartIntervalBetweenFrames=(e,t)=>e.end-t.start,this.parseBlob=async(e,t,n)=>{if(this.aborted)throw"aborted";t.oninstruction=n;let r=0;const a=new FileReader;do{if(this.aborted)throw"aborted";const n=e.slice(r,r+I);r+=n.size,await new Promise((e,r)=>{a.onload=()=>{if(2===a.readyState)try{t.receive(a.result)}catch(e){for(this.onError&&this.onError();--this.currentFrame>=0;){const e=this.frames[this.currentFrame];if(e.clientState){this.playbackClient.importState(e.clientState);break}}return r(e.message)}return e()},a.readAsText(n)})}while(r<e.size)},this.getElementSize=e=>{let t=e.length,n=t+3;for(;t>=10;)n++,t=Math.floor(t/10);return n},this.getDuration=async()=>{if(0===this.frames.length)return 0;const e=await this.getLastTimestamp();return this.toRelativeTimestamp(e)},this.getCurrentDuration=async()=>0===this.frames.length?0:this.toRelativeTimestamp(this.frames[this.lastFrameIndex].timestamp),this.toRelativeTimestamp=e=>0===this.frames.length?0:e-this.frames[0].timestamp,this.findFrame=(e,t,n)=>{if(e===t)return e;let r=Math.floor((e+t)/2),a=this.toRelativeTimestamp(this.frames[r].timestamp);return n<a&&r>e?this.findFrame(e,r-1,n):n>a&&r<t?this.findFrame(r+1,t,n):r},this.replayFrame=async e=>{let t=new f.a.Parser;const n=this.frames[e],r=await this.fileCache.slice(n.start,n.end);await this.parseBlob(r,t,(e,t)=>{this.playbackTunnel.receiveInstruction(e,t)}),n.keyframe&&!n.clientState&&this.playbackClient.exportState(e=>{n.clientState=e}),this.currentFrame=e},this.seekToFrame=async(e,t=0)=>{this.abortSeek();let n,r=this.activeSeek={aborted:!1};for(n=e;n>=0;n--){const e=this.frames[n];if(n===this.currentFrame)break;if(e.clientState){this.playbackClient.importState(e.clientState),this.currentFrame=n-1;break}}const a=this.frames[this.currentFrame]||this.frames[0],i=this.frames[this.currentFrame+1],o=Math.max(i.timestamp-a.timestamp+t-(new Date).getTime(),0);for(await u(o);;){if(r.aborted)return console.log(`return ${this.currentFrame} ${e}`),!1;if(!(this.currentFrame<e))break;{await this.replayFrame(this.currentFrame+1);const t=this.frames[this.currentFrame];this.onSeek&&this.onSeek(this.toRelativeTimestamp(t.timestamp),this.currentFrame-n,e-n)}}return!r.aborted},this.abortSeek=()=>{this.activeSeek&&(this.activeSeek.aborted=!0,this.activeSeek=null)},this.continuePlayback=async()=>{do{const e=(new Date).getTime();if(!await this.seekToFrame(this.currentFrame+1,e))return}while(this.currentFrame+1<this.frames.length);this.pause();const e=this.frames.length,t=await this.getLastTimestamp();if(!(this.frames[this.currentFrame].timestamp>=t)){for(;this.frames.length<=e;)await u(500);this.play()}},this.abort=()=>{this.aborted||(this.aborted=!0,this.onAbort&&this.onAbort())},this.getDisplay=()=>this.playbackClient.getDisplay(),this.isPlaying=()=>this.playing,this.getPosition=()=>-1===this.currentFrame?0:this.toRelativeTimestamp(this.frames[this.currentFrame].timestamp),this.play=()=>{this.isPlaying()||(this.currentFrame+1>=this.frames.length&&(this.currentFrame=-1),this.onPlay&&this.onPlay(),this.playing=!0,this.continuePlayback())},this.seek=async(e,t)=>{if(0===this.frames.length)return;this.cancel();let n=this.isPlaying();this.pause(),this.seekCallback=()=>{this.seekCallback=null,n&&(this.play(),n=null),t&&t()},await this.seekToFrame(this.findFrame(0,this.lastFrameIndex,e))&&this.seekCallback()},this.cancel=()=>{this.seekCallback&&(this.abortSeek(),this.seekCallback())},this.pause=()=>{this.abortSeek(),this.isPlaying()&&(this.playing=!1,this.onPause&&this.onPause())},this.playbackClient.connect(),this.playbackClient.getDisplay().showCursor(!1),this.fileCache=e}get lastFrame(){return this.frames[this.lastFrameIndex]}get lastFrameIndex(){return this.frames.length-1}}let T=null;function C(e,t,n){const[a,i]=Object(r.useState)(n),[o,A]=Object(r.useState)(0),[s,u]=Object(r.useState)(0),[h,d]=Object(r.useState)(0),[g,f]=Object(r.useState)(null),[p,y]=Object(r.useState)(!1),[M,m]=function(e={type:"load",current:0,total:0,visiable:!1}){const[t,n]=Object(r.useState)(e.type),[a,i]=Object(r.useState)(e.current),[o,A]=Object(r.useState)(e.total),[s,u]=Object(r.useState)(e.visiable);return[{type:t,current:a,total:o,visiable:s},function({type:e,current:t,total:r,visiable:a}){void 0!==e&&n(e),void 0!==t&&i(t),void 0!==r&&A(r),void 0!==a&&u(a)}]}(),w=Object(r.useMemo)(()=>c(300),[]),b=Object(r.useCallback)(async t=>!(!e||"number"!=typeof t.inputValue)&&(null===T&&(T=e.isPlaying(),e.pause()),A(t.inputValue),!0!==t.mouseDown&&void w(()=>{m({type:"seek",visiable:!0,current:0,total:0}),f(null),e.seek(t.inputValue,()=>(m({visiable:!1}),!0===T&&e.play(),T=null,!0))})),[e]),v=Object(r.useCallback)(()=>{e&&e.cancel(),A(g||o)},[e,g,o]);return Object(r.useEffect)(()=>{if(e)return A(0),u(0),d(0),m({total:0,current:0,type:"load",visiable:!1}),y(!1),f(0),e.onTrunkLoad=n=>{if(0===n.index&&("loading"===n.type?m({type:"load",visiable:!0,current:0,total:0}):"parsing"===n.type&&m({current:n.current,visiable:!0,total:n.size})),"loaded"===n.type){if(0===n.index)l(e.getDuration()).then(n=>{u(n),m({visiable:!1}),t&&e.play(),i("ready")});l(e.getCurrentDuration()).then(e=>{d(e)})}},e.onPlay=()=>{y(!0)},e.onPause=()=>{y(!1)},e.onSeek=(t,n,r)=>{e.isPlaying()?A(t):(f(t),m({current:n,total:r}))},e.start(),()=>{console.log("cancel control"),e.stop(),e.onPlay=void 0,e.onPause=void 0,e.onTrunkLoad=void 0,e.onSeek=void 0}},[e,t]),{playbackPosition:o,seek:b,seekPosition:g,cancelSeek:v,isPlaying:p,progress:M,duration:s,currentDuration:h,playerState:a}}var j=({loading:e=!1,text:t="",visibility:n=!1})=>a.a.createElement("div",{className:"guaca-player-message",style:{display:n?"flex":"none"}},a.a.createElement("div",{className:"guaca-player-message-wrapper"},a.a.createElement("div",{className:"guaca-player-message-icon"},a.a.createElement("i",{className:`iconfont ${e?"icon-loading guaca-spin":"icon-warning"}`})),a.a.createElement("div",null,t)));t.default=({src:e,headers:t,getPlayer:n,height:i,width:A,translate:s,autoPlay:u=!0})=>{const c=function(e){const t=Object(r.useMemo)(()=>({"btn.loading":"LOADING...","btn.cancel":"CANCEL","message.player.initing":"The player is initializing, please wait...","message.player.error":"Failed to load the file, please check the file's availability.","message.player.pause":"Click to start play"}),[]),[n,a]=Object(r.useState)(t);return Object(r.useEffect)(()=>{if(e){const n=e.call(void 0,t);a({...t,...n})}},[e]),n}(s);Object(r.useEffect)(()=>{t&&function(e){e&&(e=e)}(t)},[t]);const{recording:g,recordingState:f}=function(e){const[t,n]=Object(r.useState)("uninit"),[a,i]=Object(r.useState)(null);return Object(r.useEffect)(()=>{if(e){let t,r;return n("initing"),r=new w,t=l(r.init(e)),t.then(e=>{if(n("inited"),!e)throw"no head";{const e=new z(r);i(e)}}).catch(e=>{console.log(e)}),()=>{console.log("fileCacheInit cancelled"),t&&t.cancel(),r&&r.cancelCaching()}}i(null)},[e,!1]),{recording:a,recordingState:t}}(e),{progress:p,playbackPosition:y,duration:M,currentDuration:m,isPlaying:b,seek:v,cancelSeek:I,playerState:N}=C(g,u,f),{loading:E,visibility:T,text:S}=function({initState:e,translation:t}){const[n,a]=Object(r.useState)(!1),[i,o]=Object(r.useState)(""),[A,s]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{"uninit"===e||"initing"===e?(s(!0),o(t["message.player.initing"])):s(!1),a("inited"!==e),"error"===e&&o(t["message.player.error"])},[e,t]),{visibility:n,loading:A,text:i}}({initState:f,translation:c}),D=Object(r.useMemo)(()=>g?{play:g.play,pause:g.pause,seek:v,cancelSeek:I,getDuration:g.getDuration,getCurrentDuration:g.getCurrentDuration}:null,[g]);Object(r.useEffect)(()=>{D&&n&&n(D)},[D]);const k=Object(r.useCallback)(e=>{e.stopPropagation(),g&&(g.isPlaying()?g.pause():g.play())},[g]),B=Object(r.useCallback)(e=>{v(e)},[v]);let x,Y,L;return g&&(x=g.pause,Y=g.play,L=g.getDisplay()),a.a.createElement("div",{className:"guaca-player",style:{height:i,width:A}},a.a.createElement(j,{loading:E,visibility:T,text:S}),a.a.createElement(d,{progress:p,onCancel:I,translation:c}),a.a.createElement(o,{display:L,onClick:k,isPlaying:b,playerState:N,progress:p,translation:c}),a.a.createElement(h,{currentDuration:m,duration:M,playbackPosition:y,isPlaying:b,pause:x,play:Y,onChange:B}))}}])}));